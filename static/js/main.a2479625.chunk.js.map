{"version":3,"sources":["serviceWorkerRegistration.js","helpers/auth-helper.ts","pages/Home.tsx","config/config.ts","components/layout/Header.tsx","components/global/EmptyState.tsx","gql/module/index.ts","pages/module/Create.tsx","components/global/Loading.tsx","pages/module/Update.tsx","components/module/ModuleActionArea.tsx","components/module/DeleteModule.tsx","components/lesson/LessonActionArea.tsx","gql/lesson/index.ts","components/lesson/DeleteLesson.tsx","components/question/QuestionActionArea.tsx","gql/question/index.ts","components/question/DeleteQuestion.tsx","helpers/PreviewImage.tsx","components/question/PreviewQuestion.tsx","components/question/QuestionItem.tsx","components/lesson/LessonItem.tsx","components/module/ModuleItem.tsx","pages/module/Read.tsx","pages/module/List.tsx","pages/lesson/Create.tsx","pages/lesson/Update.tsx","pages/lesson/Read.tsx","pages/lesson/List.tsx","components/motion/fixed.ts","components/motion/utils.ts","components/motion/FixedSizeList.tsx","gql/note/index.ts","components/note/CreateNote.tsx","components/note/index.tsx","components/question/createQuestion/steps/QuestionText.tsx","components/question/createQuestion/steps/QuestionImage.tsx","components/question/createQuestion/steps/QuestionType.tsx","components/question/createQuestion/steps/QuestionAnswer.tsx","components/question/createQuestion/steps/QuestionDetails.tsx","components/question/createQuestion/steps/QuestionOptions.tsx","components/question/createQuestion/steps/QuestionReview.tsx","components/question/createQuestion/QuestionStepper.tsx","components/question/createQuestion/CreateQuestion.tsx","pages/question/Create.tsx","pages/question/Update.tsx","pages/question/Read.tsx","pages/question/List.tsx","gql/auth/index.ts","routing/routes.ts","pages/auth/Login.tsx","routing/MainRouter.tsx","theme.ts","App.tsx","index.tsx"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","auth","setUserDetails","user","cb","jwt","token","email","id","sessionStorage","setItem","JSON","stringify","unsetUserDetails","removeItem","isAuthenticated","getItem","obj","parse","withStyles","createStyles","root","maxWidth","margin","height","display","textAlign","alignItems","flexDirection","justifyContent","actions","classes","Card","className","CardContent","Typography","variant","CardActions","Button","color","component","Link","aria-label","to","env","process","server_url","Header","history","isAuthed","setIsAuthed","ReactGA","initialize","ga_id","React","useState","message","setMessage","useEffect","listen","pageview","pathname","search","loading","setLoading","anchorEl","setAnchorEl","open","handleClose","Fragment","AppBar","position","Toolbar","style","IconButton","aria-controls","aria-haspopup","onClick","event","currentTarget","AccountCircle","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","disabled","success","push","CircularProgress","size","Snackbar","autoHideDuration","spacing","wrapper","padding","icon","fontSize","header","iconContainer","undefined","action","actionLabel","elevation","CardHeader","title","endIcon","Replay","LIST","gql","READ","CREATE","UPDATE","DELETE","setTitle","level","setLevel","type","setType","titleError","setTitleError","serverError","setServerError","useMutation","addModule","submit","isValid","length","handleValidation","variables","input","res","e","toString","startIcon","ArrowBack","TextField","label","autoFocus","value","onChange","target","onKeyDown","key","helperText","InputProps","inputProps","min","max","parseInt","Check","progressWrapper","minHeight","params","useQuery","data","updateModule","mutationLoading","getModule","ModuleActionArea","link","children","CardActionArea","module","moduleError","setModuleError","deleteModule","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","Close","err","Delete","LessonActionArea","lesson","lessonError","setLessonError","deleteLesson","QuestionActionArea","LIST_QUESTION_TYPE","question","questionError","setQuestionError","deleteQuestion","useStyles","makeStyles","theme","preview","minWidth","backgroundSize","cardText","PreviewDocument","photo","setPreview","Fade","in","CardMedia","image","previewContainer","optionChip","background","borderRadius","fontWeight","doneButton","width","PreviewQuestion","text","map","item","note","textDecoration","options","option","Chip","palette","card","fixedHeightCard","avatar","secondary","main","chipContainer","divider","fab","bottom","right","displayActions","delay","lessonId","disableHeight","openDeleteDialog","setOpenDeleteDialog","Zoom","transitionDelay","subheader","answerArr","answer","MoreVert","ListItemIcon","ListItemText","primary","ListItem","button","Help","Date","createdAt","toDateString","questions","Fab","Add","lessons","Book","updatedAt","refetch","lessonMessage","setLessonMessage","addLesson","withRouter","newFetch","getModules","update","cache","modify","fields","existingLessons","newLessonRef","writeFragment","fragment","updateLesson","getLesson","getLessons","useFixedList","items","swapDistance","onPositionUpdate","onPositionChange","startIndex","handleDragStart","handleChange","useCallback","i","dragOffset","targetIndex","offset","Math","findIndex","handleDragEnd","endIndex","getDragStateZIndex","base","FixedSizeItem","index","itemProps","listItem","setState","onDragStart","onDragEnd","onAnimationComplete","onViewportBoxUpdate","_viewportBox","delta","y","translate","useFixedListItem","dragState","eventHandlers","zIndex","div","layout","initial","drag","whileHover","scale","boxShadow","whileTap","FixedSizeList","setItems","clone","moveArray","props","CreateNote","newNote","setNote","noteError","setNoteError","createNote","rows","placeholder","multiline","questionText","markdown","addNote","iconButton","NoteDialog","onSelect","hasNote","setCreateNote","searchQuery","setSearchQuery","openDialog","setOpenDialog","selectItem","filteredItems","getNotes","filter","toLowerCase","includes","aria-describedby","inputContainer","marginLeft","flex","cursor","QuestionText","useQuestion","setQuestion","activeText","setActiveText","activeTextError","setActiveTextError","editIndex","setEditIndex","inputRef","createRef","syncQuestions","newQuestion","order","newItems","preventDefault","itemI","old","newItem","Paper","InputBase","Grow","Edit","Divider","orientation","FormHelperText","DragIndicator","current","focus","editItem","ListItemSecondaryAction","splice","uploadHelpText","QuestionImage","uploaded","setUploaded","setError","onFileUpload","a","files","file","getBase64Image","img","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","clearUpload","Clear","accept","name","htmlFor","PhotoCamera","QuestionType","capitalize","str","split","charAt","toUpperCase","slice","join","FormControl","FormLabel","RadioGroup","defaultValue","replace","questionTypeOptions","FormControlLabel","control","Radio","QuestionAnswer","CheckBoxOutlineBlank","checkedIcon","CheckBox","Autocomplete","multiple","getOptionLabel","disableCloseOnSelect","handleMultiChoiceChange","renderOption","selected","Checkbox","marginRight","checked","renderInput","handleTextChange","QuestionDetails","answerHint","gutterBottom","Slider","points","valueLabelDisplay","step","marks","QuestionOptions","edge","QuestionReview","handleReset","addQuestion","updateQuestion","requiresPiano","toLocaleLowerCase","steps","required","contentWrapper","buttonContainer","left","backButton","completed","instructions","marginTop","marginBottom","QuestionStepper","activeStep","setActiveStep","Set","setCompleted","errors","setErrors","skipped","setSkipped","questionSteps","totalSteps","isStepOptional","skippedSteps","completedSteps","allStepsCompleted","handleNext","newActiveStep","has","handleStep","isStepComplete","isStepError","Stepper","alternativeLabel","nonLinear","stepProps","buttonProps","optional","isStepSkipped","Step","StepButton","prevActiveStep","Error","prevSkipped","newSkipped","values","add","newCompleted","newErrors","every","initialQuestion","QuestionContext","createContext","_","useContext","CreateQuestion","getQuestionTypes","Provider","getQuestion","GET_QUESTIONS","getQuestions","LOGIN","routes","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","login","passed","authed","CreateModule","ReadModule","UpdateModule","ListModule","CreateLesson","ReadLesson","UpdateLesson","ListLesson","ReadQuestion","UpdateQuestion","ListQuestion","MainRouter","useHistory","setAuth","bool","Grid","container","justify","xs","exact","path","Home","render","createMuiTheme","typography","fontFamily","h1","h2","h3","h4","h5","overrides","MuiTextField","MuiListItemText","responsiveFontSizes","App","client","ApolloClient","uri","InMemoryCache","ReactDOM","StrictMode","document","getElementById","URL","href","origin","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.a2479625.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","/**\n * Authentication helper for the application\n */\nconst auth = {\n  /**\n   * Sets user details in session storage\n   * after successfully logging in\n   *\n   * @param {user} user\n   * @param {*} cb\n   */\n  setUserDetails(\n    user: { token: string; user: { email: string; id: string } },\n    cb: (arg0: boolean) => void\n  ) {\n    const jwt = {\n      token: user.token,\n      user: {\n        email: user.user.email,\n        id: user.user.id,\n      },\n    };\n\n    sessionStorage.setItem(\"jwt\", JSON.stringify(jwt));\n    cb(true);\n  },\n  /**\n   * Removes user details from session storage\n   *\n   * @param {*} cb\n   */\n  unsetUserDetails(cb: any) {\n    sessionStorage.removeItem(\"jwt\");\n    cb(true);\n  },\n  /**\n   * Check if the user is authenticated\n   *\n   * @returns a user object if the user is logged in, or false is not\n   */\n  isAuthenticated() {\n    if (typeof window == \"undefined\") return false;\n\n    if (sessionStorage.getItem(\"jwt\") !== null) {\n      //@ts-ignore\n      const obj = JSON.parse(sessionStorage.getItem(\"jwt\"));\n      return obj && obj.user ? obj : false;\n    }\n\n    return false;\n  },\n};\n\nexport default auth;\n","/*\n * File: Home.tsx\n * Project: cv-viewer\n * Version 0.1.0\n * File Created: Tuesday, 26th January 2021 1:09:55 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Sunday, 7th February 2021 5:50:20 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport {\n  Button,\n  Card,\n  CardActions,\n  CardContent,\n  createStyles,\n  Typography,\n  withStyles,\n} from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport React from \"react\";\nimport auth from \"./../helpers/auth-helper\";\n\nconst styles = () =>\n  createStyles({\n    root: {\n      maxWidth: \"800px\",\n      margin: \"0 auto\",\n      height: \"500px\",\n      display: \"flex\",\n      textAlign: \"center\",\n      alignItems: \"center\",\n      flexDirection: \"column\",\n      justifyContent: \"space-evenly\",\n    },\n    actions: {\n      justifyContent: \"center\",\n    },\n  });\n\ntype IProps = {\n  classes: {\n    root: any;\n    actions: string;\n  };\n};\n\nconst Home = ({ classes }: IProps) => {\n  return (\n    <Card className={classes.root}>\n      <CardContent>\n        <Typography variant=\"h1\">Welcome</Typography>\n        <br />\n        <Typography variant=\"body1\">Music Theory Admin Dashboard</Typography>\n      </CardContent>\n      <CardActions className={classes.actions}>\n        {auth.isAuthenticated() ? (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            component={Link}\n            aria-label=\"Button\"\n            to=\"/modules\"\n          >\n            Modules\n          </Button>\n        ) : (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            component={Link}\n            aria-label=\"Button\"\n            to=\"/login\"\n          >\n            Login\n          </Button>\n        )}\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default withStyles(styles)(Home);\n","type IConfig = {\n  [key: string]: any;\n  env: string;\n  server_url: string;\n};\n\nexport const config: IConfig = {\n  env: process.env.NODE_ENV || \"development\",\n  server_url:\n    process.env.REACT_APP_SERVER_URL || \"http://localhost:3000/graphql\",\n};\n","/*\n * File: Header.tsx\n * Project: cv-viewer\n * Version 0.1.0\n * File Created: Sunday, 7th February 2021 11:59:39 am\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Sunday, 7th February 2021 5:55:45 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\n/**\n * Primary dependencies\n */\nimport React, { useEffect } from \"react\";\n\n/**\n * Component Library imports\n */\nimport {\n  AppBar,\n  CircularProgress,\n  IconButton,\n  Menu,\n  MenuItem,\n  Snackbar,\n  Toolbar,\n} from \"@material-ui/core\";\nimport { AccountCircle, Home } from \"@material-ui/icons\";\nimport { Link } from \"react-router-dom\";\nimport { config } from \"./../../config/config\";\n\nimport ReactGA from \"react-ga\";\nimport auth from \"./../../helpers/auth-helper\";\n\ntype IProps = {\n  isAuthed: boolean;\n  setIsAuthed: (bool: boolean) => void;\n  history: any;\n};\n\n/**\n * Header for the application\n */\nconst Header = ({ history, isAuthed, setIsAuthed }: IProps) => {\n  ReactGA.initialize(config.ga_id);\n\n  const [message, setMessage] = React.useState(\"\");\n\n  useEffect(() => {\n    history.listen(() => {\n      ReactGA.pageview(window.location.pathname + window.location.search);\n    });\n  }, [history]);\n\n  /**\n   * Logout from the application\n   */\n  const submit = () => {\n    const jwt = auth.isAuthenticated();\n    if (jwt) {\n      setLoading(true);\n\n      auth.unsetUserDetails((success: any) => {\n        if (success) {\n          setIsAuthed(false);\n          setLoading(false);\n          handleClose();\n          setMessage(\"Logged out successfully\");\n\n          return history.push(\"/\");\n        }\n        setMessage(\"The system encountered an error, please try again later\");\n      });\n    } else {\n      setIsAuthed(false);\n      setMessage(\"The system encountered an error, please try again later\");\n    }\n  };\n\n  const [loading, setLoading] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleMenu = (event: any) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <React.Fragment>\n      <AppBar position=\"sticky\">\n        <Toolbar style={{ justifyContent: \"space-between\" }}>\n          <IconButton aria-label=\"Home\" component={Link} to=\"/\">\n            <Home />\n          </IconButton>\n\n          {isAuthed && (\n            <React.Fragment>\n              <IconButton\n                aria-label=\"account of current user\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleMenu}\n                color=\"inherit\"\n              >\n                <AccountCircle />\n              </IconButton>\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                  vertical: \"top\",\n                  horizontal: \"right\",\n                }}\n                keepMounted\n                transformOrigin={{\n                  vertical: \"top\",\n                  horizontal: \"right\",\n                }}\n                open={open}\n                onClose={handleClose}\n              >\n                <MenuItem component={Link} to=\"/profile\" onClick={handleClose}>\n                  Profile\n                </MenuItem>\n                <MenuItem disabled={loading} onClick={submit}>\n                  Logout {loading && <CircularProgress size={18} />}\n                </MenuItem>\n              </Menu>\n            </React.Fragment>\n          )}\n        </Toolbar>\n      </AppBar>\n\n      <Snackbar\n        open={message !== \"\"}\n        autoHideDuration={6000}\n        onClose={() => setMessage(\"\")}\n        message={message}\n      ></Snackbar>\n    </React.Fragment>\n  );\n};\n\nexport default Header;\n","/*\n * File: EmptyState.tsx\n * Project: cv-viewer\n * Version 0.1.0\n * File Created: Tuesday, 26th January 2021 1:06:24 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Sunday, 7th February 2021 5:50:56 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\n/**\n * Primary dependencies\n */\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Button,\n  withStyles,\n  createStyles,\n  Card,\n  CardHeader,\n  Theme,\n} from \"@material-ui/core\";\nimport { Replay, Error } from \"@material-ui/icons\";\n\nconst styles = ({ spacing }: Theme) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n      textAlign: \"center\",\n      maxWidth: \"800px\",\n      margin: \"0 auto\",\n    },\n    icon: {\n      fontSize: \"3em\",\n    },\n    header: {\n      display: \"flex\",\n      flexDirection: \"column-reverse\",\n      justifyContent: \"center\",\n    },\n    iconContainer: {\n      textAlign: \"center\",\n    },\n  });\n\ntype IProps = {\n  message?: string;\n  action?: () => void;\n  actionLabel?: string;\n  classes: {\n    wrapper: string;\n    icon: string;\n    header: string;\n    iconContainer: string;\n  };\n};\n\n/**\n * Renders an Error\n *  for the application\n */\nconst EmptyState = ({\n  message = undefined,\n  classes,\n  action = undefined,\n  actionLabel = \"Try Again\",\n}: IProps) => (\n  <Card elevation={3} className={classes.wrapper}>\n    <div className={classes.iconContainer}>\n      <Error color=\"error\" className={classes.icon} />\n    </div>\n    <CardHeader\n      title={message ? message : \"There was a problem\"}\n      className={classes.header}\n    />\n    {action ? (\n      <Button\n        className={classes.iconContainer}\n        variant=\"contained\"\n        color=\"secondary\"\n        endIcon={<Replay />}\n        onClick={action}\n      >\n        {actionLabel}\n      </Button>\n    ) : (\n      <Button component={Link} to=\"/\" color=\"primary\" variant=\"contained\">\n        Home\n      </Button>\n    )}\n  </Card>\n);\n\nexport default withStyles(styles)(EmptyState);\n","import { gql } from \"@apollo/client\";\n\n/**\n * Fetch a list of modules\n */\nexport const LIST = gql`\n  query getModules {\n    getModules {\n      id\n      title\n      level\n      createdAt\n      lessons {\n        id\n      }\n    }\n  }\n`;\n\n/**\n * Fetch a module by ID\n *\n * @param {id: String}\n */\nexport const READ = gql`\n  query getModule($id: String!) {\n    getModule(id: $id) {\n      id\n      title\n      level\n      type\n      createdAt\n      lessons {\n        id\n        createdAt\n        updatedAt\n      }\n    }\n  }\n`;\n\n/**\n * Create a new module\n *\n * @param {input: ModuleValidator}\n */\nexport const CREATE = gql`\n  mutation addModule($input: ModuleValidator!) {\n    addModule(input: $input) {\n      id\n    }\n  }\n`;\n\n/**\n * Update a module by ID\n *\n * @param {id: String!}\n * @param {input: ModuleValidator}\n */\nexport const UPDATE = gql`\n  mutation updateModule($id: String!, $input: ModuleValidator!) {\n    updateModule(id: $id, input: $input) {\n      id\n      title\n      level\n      type\n    }\n  }\n`;\n\n/**\n * Delete a module by ID\n *\n * @param {id: String!}\n * @returns {boolean}\n */\nexport const DELETE = gql`\n  mutation deleteModule($id: String!) {\n    deleteModule(id: $id)\n  }\n`;\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  Card,\n  TextField,\n  CardHeader,\n  CardContent,\n  createStyles,\n  withStyles,\n  CardActions,\n  CircularProgress,\n  Typography,\n} from \"@material-ui/core\";\n\nimport { ArrowBack, Check } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { useMutation } from \"@apollo/client\";\nimport { CREATE } from \"./../../gql/module\";\n\ntype IProps = {\n  history: any;\n  match: any;\n  classes: any;\n};\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }: any) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n\n/**\n * CreateModule Component\n *\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst Create = ({ history, classes }: IProps) => {\n  const [title, setTitle] = useState(\"\");\n  const [level, setLevel] = useState(0);\n  const [type, setType] = useState(\"THEORY\");\n\n  const [titleError, setTitleError] = useState(\"\");\n\n  const [serverError, setServerError] = useState(\"\");\n\n  const [addModule, { loading }] = useMutation(CREATE);\n\n  const handleValidation = () => {\n    let isValid = false;\n    if (title.length < 3) {\n      setTitleError(\"Title must be at least 3 characters\");\n    } else {\n      isValid = true;\n      setTitleError(\"\");\n    }\n\n    return isValid;\n  };\n\n  const submit = () => {\n    if (handleValidation()) {\n      setServerError(\"\");\n\n      addModule({\n        variables: {\n          input: {\n            title,\n            level,\n            type,\n          },\n        },\n      })\n        .then((res: any) => {\n          history.push(`/modules/true`);\n        })\n        .catch((e) => {\n          setServerError(e.toString());\n        });\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <React.Fragment>\n      <Button component={Link} to=\"/\" startIcon={<ArrowBack />}>\n        Back\n      </Button>\n      <Card elevation={3} className={classes.wrapper}>\n        <CardHeader title=\"Create Module\" />\n\n        <CardContent>\n          <TextField\n            title=\"title\"\n            label=\"Title\"\n            autoFocus={true}\n            margin=\"normal\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            error={titleError !== \"\"}\n            helperText={titleError}\n          />\n\n          <TextField\n            title=\"level\"\n            label=\"Level\"\n            margin=\"normal\"\n            type=\"number\"\n            InputProps={{\n              inputProps: {\n                min: 0,\n                max: 12,\n              },\n            }}\n            value={level}\n            onChange={(e) => setLevel(parseInt(e.target.value))}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            // error={levelError !== \"\"}\n            // helperText={levelError}\n          />\n\n          <TextField\n            title=\"type\"\n            label=\"Lesson Type\"\n            margin=\"normal\"\n            value={type}\n            onChange={(e) => setType(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            // error={typeError !== \"\"}\n            // helperText={typeError}\n          />\n\n          <Typography variant=\"caption\" color=\"error\">\n            {serverError}\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading}\n            endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n          >\n            Save\n          </Button>\n        </CardActions>\n      </Card>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(Create);\n","/*\n * File: Loading.tsx\n * Project: cv-viewer\n * Version 0.1.0\n * File Created: Tuesday, 26th January 2021 1:06:24 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Tuesday, 26th January 2021 1:51:58 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\n/**\n * Primary dependencies\n */\nimport React from \"react\";\n\n/**\n * Component Library imports\n */\nimport { CircularProgress, withStyles, createStyles } from \"@material-ui/core\";\n\nconst styles = () =>\n  createStyles({\n    progressWrapper: {\n      minHeight: \"-webkit-fill-available\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n  });\n\ntype IProps = {\n  classes: {\n    progressWrapper: string;\n  };\n};\n\n/**\n * Renders an Activity Indicator\n *  for the application\n */\nconst Loading = ({ classes }: IProps) => (\n  <div className={classes.progressWrapper}>\n    <CircularProgress />\n  </div>\n);\n\nexport default withStyles(styles)(Loading);\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Button,\n  Card,\n  TextField,\n  CardHeader,\n  CardContent,\n  createStyles,\n  withStyles,\n  CardActions,\n  CircularProgress,\n  Typography,\n} from \"@material-ui/core\";\n\nimport { ArrowBack, Check } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport { READ, UPDATE } from \"./../../gql/module\";\nimport Loading from \"./../../components/global/Loading\";\nimport EmptyState from \"./../../components/global/EmptyState\";\n\ntype IProps = {\n  history: any;\n  match: any;\n  classes: any;\n};\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }: any) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n\n/**\n * EditModule Component\n *\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst Update = ({ history, classes, match }: IProps) => {\n  const [title, setTitle] = useState(\"\");\n  const [level, setLevel] = useState(0);\n  const [type, setType] = useState(\"\");\n\n  const [titleError, setTitleError] = useState(\"\");\n\n  const [serverError, setServerError] = useState(\"\");\n\n  const { id } = match.params;\n\n  const { loading, error, data } = useQuery(READ, { variables: { id } });\n  const [updateModule, { loading: mutationLoading }] = useMutation(UPDATE);\n\n  const handleValidation = () => {\n    let isValid = false;\n    if (title.length < 3) {\n      setTitleError(\"Title must be at least 3 characters\");\n    } else {\n      isValid = true;\n      setTitleError(\"\");\n    }\n\n    return isValid;\n  };\n\n  const submit = () => {\n    if (handleValidation()) {\n      setServerError(\"\");\n\n      updateModule({\n        variables: {\n          id,\n          input: {\n            title,\n            level,\n            type,\n          },\n        },\n      })\n        .then((res: any) => {\n          history.push(`/module/${res.data.updateModule.id}`);\n        })\n        .catch((e) => {\n          console.log(\"error\", e);\n          setServerError(e.toString());\n        });\n    }\n  };\n\n  useEffect(() => {\n    if (data && data.getModule) {\n      setTitle(data.getModule.title);\n      setLevel(data.getModule.level);\n      setType(data.getModule.type);\n    }\n  }, [data]);\n\n  /**\n   * Render JSX\n   */\n  if (loading) return <Loading />;\n  if (error) return <EmptyState message={error.message} />;\n  return (\n    <React.Fragment>\n      <Button component={Link} to=\"/\" startIcon={<ArrowBack />}>\n        Back\n      </Button>\n      <Card elevation={3} className={classes.wrapper}>\n        <CardHeader title=\"Edit Module\" />\n\n        <CardContent>\n          <TextField\n            title=\"title\"\n            label=\"Title\"\n            autoFocus={true}\n            margin=\"normal\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            error={titleError !== \"\"}\n            helperText={titleError}\n          />\n\n          <TextField\n            title=\"level\"\n            label=\"Level\"\n            margin=\"normal\"\n            type=\"number\"\n            InputProps={{\n              inputProps: {\n                min: 0,\n                max: 12,\n              },\n            }}\n            value={level}\n            onChange={(e) => setLevel(parseInt(e.target.value))}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          />\n\n          <TextField\n            title=\"type\"\n            label=\"Lesson Type\"\n            margin=\"normal\"\n            value={type}\n            onChange={(e) => setType(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          />\n\n          <Typography variant=\"caption\" color=\"error\">\n            {serverError}\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading || mutationLoading}\n            endIcon={\n              loading || mutationLoading ? (\n                <CircularProgress size={18} />\n              ) : (\n                <Check />\n              )\n            }\n          >\n            Save\n          </Button>\n        </CardActions>\n      </Card>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(Update);\n","import { CardActionArea } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\n\ntype IProps = {\n  link: string | null;\n  children: any;\n};\n\n/**\n * Conditionally displays an action area to be\n * clicked if there is a link present\n *\n * This component was created because an <a> tag\n * cannot be nested within another <a> tag\n *\n * Therefore on the module detail page an <a> tag isnt rendered,\n * so the chips can be rendered\n *\n * @param {string} link - an optional link\n * @param {*} children - The children\n */\nconst ModuleActionArea = ({ link = null, children }: IProps) => {\n  if (link)\n    return (\n      <CardActionArea component={Link} to={link}>\n        {children}\n      </CardActionArea>\n    );\n\n  return <div>{children}</div>;\n};\n\nexport default ModuleActionArea;\n","import React from \"react\";\n\nimport {\n  withStyles,\n  createStyles,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  DialogContentText,\n  Snackbar,\n  Theme,\n} from \"@material-ui/core\";\n\nimport { Close, Delete } from \"@material-ui/icons\";\nimport { DELETE } from \"./../../gql/module\";\nimport { useMutation } from \"@apollo/client\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }: Theme) =>\n  createStyles({\n    root: {\n      padding: spacing(1),\n      margin: `${spacing(2)}px 0`,\n    },\n    actions: {\n      justifyContent: \"flex-end\",\n    },\n  });\n\ntype IProps = {\n  history: any;\n  open: boolean;\n  module: any;\n  handleClose: (open: boolean) => void;\n};\n\n/**\n * DeleteModule Component\n *\n * @param {History} history - the browser history object\n * @param {bool} open - whether the dialog should be open or not\n * @param {*} module - The module to be deleted\n * @param {*} handleClose - The function to run to close the dialog\n */\nconst DeleteModule = ({ history, open, module, handleClose }: IProps) => {\n  const [moduleError, setModuleError] = React.useState(\"\");\n\n  const [deleteModule, { loading }] = useMutation(DELETE);\n\n  /**\n   * Check validation and then run the\n   * module update network request\n   *\n   * On success,redirect to the home page\n   */\n  const submit = () => {\n    const { id } = module;\n\n    deleteModule({ variables: { id } })\n      .then((res) => {\n        if (res.data.deleteModule === true)\n          return history.push(\"/modules/true\");\n        setModuleError(\"Could not delete Module\");\n      })\n      .catch((err) => {\n        setModuleError(err.toString());\n      });\n  };\n  /**\n   * Render JSX\n   */\n  return (\n    <React.Fragment>\n      <Dialog\n        open={open}\n        onClose={() => handleClose(false)}\n        aria-labelledby=\"edit-module-dialog\"\n      >\n        <DialogTitle>Confirmation</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to delete this module?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => handleClose(false)}\n            endIcon={<Close />}\n          >\n            Cancel\n          </Button>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading}\n            endIcon={loading ? <CircularProgress size={18} /> : <Delete />}\n          >\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Snackbar\n        open={moduleError !== \"\"}\n        autoHideDuration={6000}\n        onClose={() => setModuleError(\"\")}\n        message={moduleError}\n      ></Snackbar>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(DeleteModule);\n","/**\n * File: LessonActionArea.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 15th January 2021 4:11:07 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Lesson action area\n * Last Modified: Tuesday, 26th January 2021 7:10:45 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { CardActionArea } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\n\ntype IProps = {\n  link: string | null;\n  children: any;\n};\n\n/**\n * Conditionally displays an action area to be\n * clicked if there is a link present\n *\n * This component was created because an <a> tag\n * cannot be nested within another <a> tag\n *\n * Therefore on the lesson detail page an <a> tag isnt rendered,\n * so the chips can be rendered\n *\n * @param {string} link - an optional link\n * @param {*} children - The children\n */\nconst LessonActionArea = ({ link = null, children }: IProps) => {\n  if (link)\n    return (\n      <CardActionArea component={Link} to={link}>\n        {children}\n      </CardActionArea>\n    );\n\n  return <div>{children}</div>;\n};\n\nexport default LessonActionArea;\n","import { gql } from \"@apollo/client\";\n\n/**\n * Fetch a list of lessons\n */\nexport const LIST = gql`\n  query getLessons {\n    getLessons {\n      id\n      module {\n        id\n        title\n      }\n      questions {\n        id\n        text {\n          text\n        }\n      }\n    }\n  }\n`;\n\n/**\n * Fetch a lesson by ID\n *\n * @param {id: String}\n */\nexport const READ = gql`\n  query getLesson($id: String!) {\n    getLesson(id: $id) {\n      id\n      createdAt\n      updatedAt\n      module {\n        id\n      }\n      questions {\n        id\n        text {\n          id\n          text\n        }\n        type\n        answer\n        answerArr\n      }\n    }\n  }\n`;\n\n/**\n * Create a new lesson\n *\n * @param {input: LessonValidator}\n */\nexport const CREATE = gql`\n  mutation addLesson($module: String!, $input: LessonValidator!) {\n    addLesson(module: $module, input: $input) {\n      id\n    }\n  }\n`;\n\n/**\n * Update a lesson by ID\n *\n * @param {id: String!}\n * @param {input: LessonValidator}\n */\nexport const UPDATE = gql`\n  mutation updateLesson($id: String!, $input: LessonValidator!) {\n    updateLesson(id: $id, input: $input) {\n      id\n      title\n      level\n      type\n    }\n  }\n`;\n\n/**\n * Delete a lesson by ID\n *\n * @param {id: String!}\n * @returns {boolean}\n */\nexport const DELETE = gql`\n  mutation deleteLesson($id: String!) {\n    deleteLesson(id: $id)\n  }\n`;\n","import React from \"react\";\n\nimport {\n  withStyles,\n  createStyles,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  DialogContentText,\n  Snackbar,\n  Theme,\n} from \"@material-ui/core\";\n\nimport { Close, Delete } from \"@material-ui/icons\";\nimport { DELETE } from \"./../../gql/lesson\";\nimport { useMutation } from \"@apollo/client\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }: Theme) =>\n  createStyles({\n    root: {\n      padding: spacing(1),\n      margin: `${spacing(2)}px 0`,\n    },\n    actions: {\n      justifyContent: \"flex-end\",\n    },\n  });\n\ntype IProps = {\n  history: any;\n  open: boolean;\n  lesson: any;\n  handleClose: (open: boolean) => void;\n};\n\n/**\n * DeleteLesson Component\n *\n * @param {History} history - the browser history object\n * @param {bool} open - whether the dialog should be open or not\n * @param {*} lesson - The lesson to be deleted\n * @param {*} handleClose - The function to run to close the dialog\n */\nconst DeleteLesson = ({ history, open, lesson, handleClose }: IProps) => {\n  const [lessonError, setLessonError] = React.useState(\"\");\n\n  const [deleteLesson, { loading }] = useMutation(DELETE);\n\n  /**\n   * Check validation and then run the\n   * lesson update network request\n   *\n   * On success,redirect to the home page\n   */\n  const submit = () => {\n    const { id } = lesson;\n\n    deleteLesson({ variables: { id } })\n      .then((res) => {\n        if (res.data.deleteLesson === true)\n          return history.push(`/module/${lesson.module.id}/true`);\n        setLessonError(\"Could not delete Lesson\");\n      })\n      .catch((err) => {\n        setLessonError(err.toString());\n      });\n  };\n  /**\n   * Render JSX\n   */\n  return (\n    <React.Fragment>\n      <Dialog\n        open={open}\n        onClose={() => handleClose(false)}\n        aria-labelledby=\"edit-lesson-dialog\"\n      >\n        <DialogTitle>Confirmation</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to delete this lesson?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => handleClose(false)}\n            endIcon={<Close />}\n          >\n            Cancel\n          </Button>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading}\n            endIcon={loading ? <CircularProgress size={18} /> : <Delete />}\n          >\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Snackbar\n        open={lessonError !== \"\"}\n        autoHideDuration={6000}\n        onClose={() => setLessonError(\"\")}\n        message={lessonError}\n      ></Snackbar>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(DeleteLesson);\n","/**\n * File: QuestionActionArea.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 15th January 2021 4:11:07 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Question action area\n * Last Modified: Tuesday, 26th January 2021 7:10:45 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { CardActionArea } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\n\ntype IProps = {\n  link: string | null;\n  children: any;\n};\n\n/**\n * Conditionally displays an action area to be\n * clicked if there is a link present\n *\n * This component was created because an <a> tag\n * cannot be nested within another <a> tag\n *\n * Therefore on the question detail page an <a> tag isnt rendered,\n * so the chips can be rendered\n *\n * @param {string} link - an optional link\n * @param {*} children - The children\n */\nconst QuestionActionArea = ({ link = null, children }: IProps) => {\n  if (link)\n    return (\n      <CardActionArea component={Link} to={link}>\n        {children}\n      </CardActionArea>\n    );\n\n  return <div>{children}</div>;\n};\n\nexport default QuestionActionArea;\n","import { gql } from \"@apollo/client\";\n\n/**\n * Fetch a list of questions\n */\nexport const LIST = gql`\n  query getQuestions {\n    getQuestions {\n      id\n      title\n      level\n      lessons {\n        id\n      }\n    }\n  }\n`;\n\nexport const LIST_QUESTION_TYPE = gql`\n  query getQuestionTypes {\n    getQuestionTypes\n  }\n`;\n\n/**\n * Fetch a question by ID\n *\n * @param {id: String}\n */\nexport const READ = gql`\n  query getQuestion($id: String!) {\n    getQuestion(id: $id) {\n      id\n      image\n      type\n      createdAt\n      options\n      points\n      answer\n      answerArr\n      answerHint\n      text {\n        id\n        text\n        order\n        note {\n          id\n        }\n      }\n      lesson {\n        id\n      }\n    }\n  }\n`;\n\n/**\n * Create a new question\n *\n * @param {input: QuestionValidator}\n */\nexport const CREATE = gql`\n  mutation addQuestion($lessonId: String!, $input: QuestionValidator!) {\n    addQuestion(lessonId: $lessonId, input: $input) {\n      id\n      lesson {\n        id\n      }\n    }\n  }\n`;\n\n/**\n * Update a question by ID\n *\n * @param {id: String!}\n * @param {input: QuestionValidator}\n */\nexport const UPDATE = gql`\n  mutation updateQuestion($id: String!, $input: QuestionValidator!) {\n    updateQuestion(id: $id, input: $input) {\n      id\n      lesson {\n        id\n      }\n    }\n  }\n`;\n\n/**\n * Delete a question by ID\n *\n * @param {id: String!}\n * @returns {boolean}\n */\nexport const DELETE = gql`\n  mutation deleteQuestion($id: String!) {\n    deleteQuestion(id: $id)\n  }\n`;\n","import React from \"react\";\n\nimport {\n  withStyles,\n  createStyles,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  DialogContentText,\n  Snackbar,\n  Theme,\n} from \"@material-ui/core\";\n\nimport { Close, Delete } from \"@material-ui/icons\";\nimport { DELETE } from \"./../../gql/question\";\nimport { useMutation } from \"@apollo/client\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }: Theme) =>\n  createStyles({\n    root: {\n      padding: spacing(1),\n      margin: `${spacing(2)}px 0`,\n    },\n    actions: {\n      justifyContent: \"flex-end\",\n    },\n  });\n\ntype IProps = {\n  history: any;\n  open: boolean;\n  question: any;\n  handleClose: (open: boolean) => void;\n};\n\n/**\n * DeleteQuestion Component\n *\n * @param {History} history - the browser history object\n * @param {bool} open - whether the dialog should be open or not\n * @param {*} question - The question to be deleted\n * @param {*} handleClose - The function to run to close the dialog\n */\nconst DeleteQuestion = ({ history, open, question, handleClose }: IProps) => {\n  const [questionError, setQuestionError] = React.useState(\"\");\n\n  const [deleteQuestion, { loading }] = useMutation(DELETE);\n\n  /**\n   * Check validation and then run the\n   * question update network request\n   *\n   * On success,redirect to the home page\n   */\n  const submit = () => {\n    const { id } = question;\n\n    deleteQuestion({ variables: { id } })\n      .then((res) => {\n        if (res.data.deleteQuestion === true)\n          return history.push(`/lesson/${question.lesson.id}/true`);\n        setQuestionError(\"Could not delete Question\");\n      })\n      .catch((err) => {\n        setQuestionError(err.toString());\n      });\n  };\n  /**\n   * Render JSX\n   */\n  return (\n    <React.Fragment>\n      <Dialog\n        open={open}\n        onClose={() => handleClose(false)}\n        aria-labelledby=\"edit-question-dialog\"\n      >\n        <DialogTitle>Confirmation</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to delete this question?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => handleClose(false)}\n            endIcon={<Close />}\n          >\n            Cancel\n          </Button>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading}\n            endIcon={loading ? <CircularProgress size={18} /> : <Delete />}\n          >\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Snackbar\n        open={questionError !== \"\"}\n        autoHideDuration={6000}\n        onClose={() => setQuestionError(\"\")}\n        message={questionError}\n      ></Snackbar>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(DeleteQuestion);\n","import React, { useEffect } from \"react\";\n\nimport {\n  CardMedia,\n  createStyles,\n  Fade,\n  makeStyles,\n  Theme,\n} from \"@material-ui/core\";\n\nimport Loading from \"./../components/global/Loading\";\nimport EmptyState from \"./../components/global/EmptyState\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    preview: {\n      height: 200,\n      minWidth: 200,\n      margin: `${theme.spacing(2)}px auto`,\n      backgroundSize: \"contain\",\n    },\n    cardText: {\n      textAlign: \"center\",\n    },\n  })\n);\n\ninterface IProps {\n  photo: string;\n}\n\nconst PreviewDocument = ({ photo }: IProps) => {\n  const classes = useStyles();\n  const [loading, setLoading] = React.useState(true);\n  const [preview, setPreview] = React.useState<string>(\"\");\n\n  useEffect(() => {\n    if (photo && preview === \"\") {\n      setPreview(photo);\n      setLoading(false);\n    } else setLoading(false);\n  }, [preview, photo]);\n\n  if (loading)\n    return (\n      <Loading\n      //message={\"Loading preview...\"}\n      />\n    );\n  if (!preview) return <EmptyState message=\"Could not preview image\" />;\n\n  return (\n    <Fade in={true}>\n      <CardMedia image={preview} className={classes.preview} />\n    </Fade>\n  );\n};\n\nexport default PreviewDocument;\n","import {\n  createStyles,\n  makeStyles,\n  Theme,\n  Typography,\n  Button,\n  Card,\n  Chip,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport PreviewDocument from \"./../../helpers/PreviewImage\";\nimport { QuestionValidator } from \"./../../types/question\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    previewContainer: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      textAlign: \"center\",\n      padding: theme.spacing(2),\n      margin: theme.spacing(2),\n      height: \"55vh\",\n    },\n    optionChip: {\n      background: \"#e0e0e06b\",\n      borderRadius: 8,\n      fontWeight: 800,\n      margin: theme.spacing(1),\n    },\n    doneButton: {\n      width: \"90%\",\n    },\n  })\n);\n\ntype IProps = {\n  question: QuestionValidator;\n};\n\nconst PreviewQuestion = ({ question }: IProps) => {\n  const classes = useStyles();\n  return (\n    <Card className={classes.previewContainer}>\n      <Typography variant=\"h3\">\n        {question.text.map((item) => {\n          if (item.note) {\n            return (\n              <React.Fragment>\n                <span style={{ color: \"#ff9100\", textDecoration: \"underline\" }}>\n                  {item.text}\n                </span>\n                <span> </span>\n              </React.Fragment>\n            );\n          }\n          return item.text + \" \";\n        })}\n      </Typography>\n      <PreviewDocument photo={question.image} />\n      <div>\n        {question.options.map((option) => {\n          return <Chip label={option} className={classes.optionChip} />;\n        })}\n      </div>\n      <Button\n        variant=\"contained\"\n        disabled\n        className={classes.doneButton}\n        onClick={() => {}}\n      >\n        Done\n      </Button>\n    </Card>\n  );\n};\n\nexport default PreviewQuestion;\n","/**\n * File: QuestionItem.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 15th January 2021 4:07:13 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Saturday, 30th January 2021 2:32:04 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  createStyles,\n  withStyles,\n  ListItemIcon,\n  ListItemText,\n  Theme,\n  ListItem,\n  CardHeader,\n  CardContent,\n  Zoom,\n  IconButton,\n  Menu,\n  MenuItem,\n} from \"@material-ui/core\";\nimport { Create, Delete, MoreVert, Help } from \"@material-ui/icons\";\nimport { Link } from \"react-router-dom\";\n\nimport QuestionActionArea from \"./QuestionActionArea\";\n\nimport DeleteQuestion from \"./DeleteQuestion\";\nimport PreviewQuestion from \"./PreviewQuestion\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n * @param {palette} palette - The palette defined in theme.js\n */\nconst styles = ({ palette, spacing }: Theme) =>\n  createStyles({\n    card: {\n      margin: `${spacing(4)}px auto`,\n    },\n    fixedHeightCard: {\n      // height: 200,\n    },\n    avatar: {\n      background: palette.secondary.main,\n    },\n    chipContainer: {\n      \"& > *\": {\n        margin: spacing(0.5),\n      },\n    },\n    divider: {\n      margin: spacing(2),\n    },\n    fab: {\n      position: \"fixed\",\n      bottom: spacing(2),\n      right: spacing(2),\n    },\n  });\n\ntype IProps = {\n  displayActions: boolean;\n  history?: History;\n  classes: {\n    card: string;\n    fixedHeightCard: string;\n    avatar: string;\n    chipContainer: string;\n    divider: string;\n    fab: string;\n  };\n  question: any;\n  lessonId?: string | null;\n  link?: string | null;\n  delay?: number;\n  disableHeight?: boolean;\n};\n\n/**\n * QuestionItem Component\n *\n * A single comment\n *\n * @param {bool} displayActions - if the question belongs to the authed user, display actions\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {*} question - The question to be displayed\n * @param {*} link - The link to optionally display\n * @param {*} delay - The delay of the animation\n */\nconst QuestionItem = ({\n  displayActions,\n  history,\n  classes,\n  question,\n  link = null,\n  delay = 0,\n  lessonId = null,\n  disableHeight = true,\n}: IProps) => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [openDeleteDialog, setOpenDeleteDialog] = React.useState(false);\n  const open = Boolean(anchorEl);\n\n  /**\n   * Opens the more options menu\n   *\n   * @param {*} event\n   */\n  const handleOpen = (event: any) => {\n    setAnchorEl(event.currentTarget);\n  };\n  /**\n   * Closes the more options menu\n   */\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  /**\n   * Render JSX\n   */\n  if (displayActions)\n    return (\n      <Zoom in={true} style={{ transitionDelay: `${delay}ms` }}>\n        <QuestionActionArea link={link}>\n          <CardHeader\n            title={question.text.map((item: any) => item.text + \" \")}\n            subheader={\n              question.type === \"MULTIPLE_CHOICE\"\n                ? \"Answer: \" + question.answerArr.map((item: string) => item)\n                : \"Answer: \" + question.answer\n            }\n            action={\n              displayActions && (\n                <React.Fragment>\n                  <IconButton\n                    aria-label=\"more\"\n                    aria-controls=\"long-menu\"\n                    aria-haspopup=\"true\"\n                    onClick={handleOpen}\n                  >\n                    <MoreVert />\n                  </IconButton>\n\n                  <Menu\n                    id=\"menu\"\n                    anchorEl={anchorEl}\n                    open={open}\n                    onClose={handleClose}\n                  >\n                    <MenuItem\n                      component={Link}\n                      to={`/update/question/${\n                        lessonId ? lessonId : question.lesson.id\n                      }/${question.id}`}\n                    >\n                      <ListItemIcon>\n                        <Create />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Edit\" />\n                    </MenuItem>\n                    <MenuItem onClick={() => setOpenDeleteDialog(true)}>\n                      <ListItemIcon>\n                        <Delete />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Delete\" />\n                    </MenuItem>\n                  </Menu>\n                </React.Fragment>\n              )\n            }\n          />\n          <CardContent>\n            <PreviewQuestion question={question} />\n            <DeleteQuestion\n              open={openDeleteDialog}\n              question={question}\n              handleClose={setOpenDeleteDialog}\n              history={history}\n            />\n          </CardContent>\n        </QuestionActionArea>\n      </Zoom>\n    );\n\n  return (\n    <React.Fragment>\n      <ListItem button={true} component={Link} to={`/question/${question.id}`}>\n        <ListItemIcon>\n          <Help />\n        </ListItemIcon>\n        <ListItemText\n          primary={question.text.map((item: any) => item.text + \" \")}\n          secondary={\n            question.type === \"MULTIPLE_CHOICE\"\n              ? \"Answer: \" + question.answerArr.map((item: string) => item)\n              : \"Answer: \" + question.answer\n          }\n        />\n      </ListItem>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(QuestionItem);\n","/**\n * File: LessonItem.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 15th January 2021 4:07:13 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Saturday, 30th January 2021 2:32:04 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  createStyles,\n  withStyles,\n  ListItemIcon,\n  ListItemText,\n  Theme,\n  ListItem,\n  Card,\n  CardHeader,\n  CardContent,\n  Zoom,\n  IconButton,\n  Menu,\n  MenuItem,\n  List,\n  Fab,\n  Typography,\n} from \"@material-ui/core\";\nimport { Add, Create, Delete, MoreVert, Book } from \"@material-ui/icons\";\nimport { Link } from \"react-router-dom\";\n\nimport LessonActionArea from \"./LessonActionArea\";\n\nimport DeleteLesson from \"./DeleteLesson\";\nimport QuestionItem from \"./../question/QuestionItem\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n * @param {palette} palette - The palette defined in theme.js\n */\nconst styles = ({ palette, spacing }: Theme) =>\n  createStyles({\n    card: {\n      margin: `${spacing(4)}px auto`,\n    },\n    fixedHeightCard: {\n      height: 200,\n    },\n    avatar: {\n      background: palette.secondary.main,\n    },\n    chipContainer: {\n      \"& > *\": {\n        margin: spacing(0.5),\n      },\n    },\n    divider: {\n      margin: spacing(2),\n    },\n    fab: {\n      position: \"fixed\",\n      bottom: spacing(2),\n      right: spacing(2),\n    },\n  });\n\ntype IProps = {\n  displayActions: boolean;\n  history?: History;\n  classes: {\n    card: string;\n    fixedHeightCard: string;\n    avatar: string;\n    chipContainer: string;\n    divider: string;\n    fab: string;\n  };\n  lesson: any;\n  link?: string | null;\n  delay?: number;\n  disableHeight?: boolean;\n};\n\n/**\n * LessonItem Component\n *\n * A single comment\n *\n * @param {bool} displayActions - if the lesson belongs to the authed user, display actions\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {*} lesson - The lesson to be displayed\n * @param {*} link - The link to optionally display\n * @param {*} delay - The delay of the animation\n */\nconst LessonItem = ({\n  displayActions,\n  history,\n  classes,\n  lesson,\n  link = null,\n  delay = 0,\n  disableHeight = true,\n}: IProps) => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [openDeleteDialog, setOpenDeleteDialog] = React.useState(false);\n  const open = Boolean(anchorEl);\n\n  /**\n   * Opens the more options menu\n   *\n   * @param {*} event\n   */\n  const handleOpen = (event: any) => {\n    setAnchorEl(event.currentTarget);\n  };\n  /**\n   * Closes the more options menu\n   */\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  /**\n   * Render JSX\n   */\n  if (displayActions)\n    return (\n      <Zoom in={true} style={{ transitionDelay: `${delay}ms` }}>\n        <Card\n          className={disableHeight ? classes.fixedHeightCard : classes.card}\n        >\n          <LessonActionArea link={link}>\n            <CardHeader\n              title={\"Lesson\"}\n              subheader={new Date(lesson.createdAt).toDateString()}\n              action={\n                displayActions && (\n                  <React.Fragment>\n                    <IconButton\n                      aria-label=\"more\"\n                      aria-controls=\"long-menu\"\n                      aria-haspopup=\"true\"\n                      onClick={handleOpen}\n                    >\n                      <MoreVert />\n                    </IconButton>\n\n                    <Menu\n                      id=\"menu\"\n                      anchorEl={anchorEl}\n                      open={open}\n                      onClose={handleClose}\n                    >\n                      <MenuItem\n                        component={Link}\n                        to={`/update/lesson/${lesson.id}`}\n                      >\n                        <ListItemIcon>\n                          <Create />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Edit\" />\n                      </MenuItem>\n                      <MenuItem onClick={() => setOpenDeleteDialog(true)}>\n                        <ListItemIcon>\n                          <Delete />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Delete\" />\n                      </MenuItem>\n                    </Menu>\n                  </React.Fragment>\n                )\n              }\n            />\n            <CardContent>\n              {displayActions ? (\n                <React.Fragment>\n                  <List>\n                    {lesson.questions.map(\n                      (question: {\n                        id: React.Key | null | undefined;\n                        updatedAt: Date;\n                      }) => {\n                        return (\n                          // <LessonItem\n                          //   lesson={lesson}\n                          //   key={lesson.id}\n                          //   displayActions={false}\n                          // />\n                          <QuestionItem\n                            lessonId={lesson.id}\n                            key={question.id}\n                            question={question}\n                            displayActions={false}\n                          />\n                        );\n                      }\n                    )}\n                  </List>\n                  <DeleteLesson\n                    open={openDeleteDialog}\n                    lesson={lesson}\n                    handleClose={setOpenDeleteDialog}\n                    history={history}\n                  />\n                  <Fab\n                    className={classes.fab}\n                    component={Link}\n                    // disabled={loading}\n                    aria-label=\"Add Lesson\"\n                    color=\"secondary\"\n                    // onClick={() => createLesson()}\n                    to={`/create/question/${lesson.id}`}\n                  >\n                    {/* {loading ? <CircularProgress size={18} /> : <Add />} */}\n                    <Add />\n                  </Fab>\n                </React.Fragment>\n              ) : (\n                <Typography variant=\"body2\">\n                  {lesson.lessons.length} Lesson\n                  {lesson.lessons.length > 1 ? \"s\" : \"\"}\n                </Typography>\n              )}\n            </CardContent>\n          </LessonActionArea>\n        </Card>\n      </Zoom>\n    );\n\n  return (\n    <React.Fragment>\n      <ListItem button={true} component={Link} to={`/lesson/${lesson.id}`}>\n        <ListItemIcon>\n          <Book />\n        </ListItemIcon>\n        <ListItemText\n          primary={`Lesson`}\n          secondary={`Last Updated: ${new Date(\n            lesson.updatedAt\n          ).toDateString()}`}\n        />\n      </ListItem>\n\n      <DeleteLesson\n        open={openDeleteDialog}\n        lesson={lesson}\n        handleClose={setOpenDeleteDialog}\n        history={history}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(LessonItem);\n","import React from \"react\";\n\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  createStyles,\n  withStyles,\n  Zoom,\n  IconButton,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n  ListItemText,\n  Theme,\n  List,\n  Fab,\n  Typography,\n  Snackbar,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Add, Create, Delete, MoreVert } from \"@material-ui/icons\";\n\nimport ModuleActionArea from \"./ModuleActionArea\";\nimport DeleteModule from \"./DeleteModule\";\n\nimport { Link } from \"react-router-dom\";\nimport LessonItem from \"./../lesson/LessonItem\";\nimport { useMutation } from \"@apollo/client\";\nimport { CREATE } from \"./../../gql/lesson\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n * @param {palette} palette - The palette defined in theme.js\n */\nconst styles = ({ palette, spacing }: Theme) =>\n  createStyles({\n    card: {\n      margin: `${spacing(4)}px auto`,\n    },\n    fixedHeightCard: {\n      margin: `${spacing(4)}px auto`,\n    },\n    avatar: {\n      background: palette.secondary.main,\n    },\n    chipContainer: {\n      \"& > *\": {\n        margin: spacing(0.5),\n      },\n    },\n    divider: {\n      margin: spacing(2),\n    },\n    fab: {\n      position: \"fixed\",\n      bottom: spacing(2),\n      right: spacing(2),\n    },\n  });\n\ntype IProps = {\n  displayActions: boolean;\n  history?: History;\n  classes: {\n    card: string;\n    fixedHeightCard: string;\n    avatar: string;\n    chipContainer: string;\n    divider: string;\n    fab: string;\n  };\n  module: any;\n  link?: string | null;\n  delay?: number;\n  disableHeight?: boolean;\n  refetch?: () => void;\n};\n\n/**\n * ModuleItem Component\n *\n * A single comment\n *\n * @param {bool} displayActions - if the module belongs to the authed user, display actions\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {*} module - The module to be displayed\n * @param {*} link - The link to optionally display\n * @param {*} delay - The delay of the animation\n */\nconst ModuleItem = ({\n  displayActions,\n  history,\n  classes,\n  module,\n  link = null,\n  delay = 0,\n  disableHeight = true,\n  refetch = () => {},\n}: IProps) => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [openDeleteDialog, setOpenDeleteDialog] = React.useState(false);\n  const [lessonMessage, setLessonMessage] = React.useState(\"\");\n\n  const [addLesson, { loading }] = useMutation(CREATE);\n\n  const open = Boolean(anchorEl);\n\n  /**\n   * Opens the more options menu\n   *\n   * @param {*} event\n   */\n  const handleOpen = (event: any) => {\n    setAnchorEl(event.currentTarget);\n  };\n  /**\n   * Closes the more options menu\n   */\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const createLesson = () => {\n    addLesson({\n      variables: {\n        module: module.id,\n        input: {\n          level: module.level,\n        },\n      },\n    })\n      .then(() => {\n        refetch();\n        setLessonMessage(\"Lesson Added\");\n      })\n      .catch((err) => {\n        console.log(\"error!\", err);\n        setLessonMessage(\"Error adding Lesson: \" + err.toString());\n      });\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <Zoom in={true} style={{ transitionDelay: `${delay}ms` }}>\n      <Card className={disableHeight ? classes.fixedHeightCard : classes.card}>\n        <ModuleActionArea link={link}>\n          <CardHeader\n            title={module.title}\n            subheader={new Date(module.createdAt).toDateString()}\n            action={\n              displayActions && (\n                <React.Fragment>\n                  <IconButton\n                    aria-label=\"more\"\n                    aria-controls=\"long-menu\"\n                    aria-haspopup=\"true\"\n                    onClick={handleOpen}\n                  >\n                    <MoreVert />\n                  </IconButton>\n\n                  <Menu\n                    id=\"menu\"\n                    anchorEl={anchorEl}\n                    open={open}\n                    onClose={handleClose}\n                  >\n                    <MenuItem\n                      component={Link}\n                      to={`/update/module/${module.id}`}\n                    >\n                      <ListItemIcon>\n                        <Create />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Edit\" />\n                    </MenuItem>\n                    <MenuItem onClick={() => setOpenDeleteDialog(true)}>\n                      <ListItemIcon>\n                        <Delete />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Delete\" />\n                    </MenuItem>\n                  </Menu>\n                </React.Fragment>\n              )\n            }\n          />\n          <CardContent>\n            {displayActions ? (\n              <React.Fragment>\n                <List>\n                  {module.lessons.map(\n                    (lesson: {\n                      id: React.Key | null | undefined;\n                      updatedAt: Date;\n                    }) => {\n                      return (\n                        <LessonItem\n                          lesson={lesson}\n                          key={lesson.id}\n                          link={`/lesson/${lesson.id}`}\n                          displayActions={false}\n                        />\n                      );\n                    }\n                  )}\n                </List>\n                <DeleteModule\n                  open={openDeleteDialog}\n                  module={module}\n                  handleClose={setOpenDeleteDialog}\n                  history={history}\n                />\n                <Fab\n                  className={classes.fab}\n                  // component={Link}\n                  disabled={loading}\n                  aria-label=\"Add Lesson\"\n                  color=\"secondary\"\n                  onClick={() => createLesson()}\n                  // to=\"/create/lesson\"\n                >\n                  {loading ? <CircularProgress size={18} /> : <Add />}\n                </Fab>\n                <Snackbar\n                  open={lessonMessage !== \"\"}\n                  autoHideDuration={6000}\n                  onClose={() => setLessonMessage(\"\")}\n                  message={lessonMessage}\n                ></Snackbar>\n              </React.Fragment>\n            ) : (\n              <Typography variant=\"body2\">\n                {module.lessons.length} Lesson\n                {module.lessons.length > 1 ? \"s\" : \"\"}\n              </Typography>\n            )}\n          </CardContent>\n        </ModuleActionArea>\n      </Card>\n    </Zoom>\n  );\n};\n\nexport default withStyles(styles)(ModuleItem);\n","/**\n * File: Article.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 8th January 2021 5:34:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Friday, 29th January 2021 9:52:05 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport { Button } from \"@material-ui/core\";\nimport { ArrowBack } from \"@material-ui/icons\";\n\nimport { Link, withRouter } from \"react-router-dom\";\n\n//  import { show } from \"./../../api/api-article\";\n\nimport Loading from \"./../../components/global/Loading\";\nimport EmptyState from \"./../../components/global/EmptyState\";\nimport ModuleItem from \"./../../components/module/ModuleItem\";\nimport { useQuery } from \"@apollo/client\";\nimport { READ } from \"./../../gql/module\";\n\n//  import auth from \"./../../helpers/auth-helper\";\n\ntype IProps = {\n  history: any;\n  match: any;\n};\n\n/**\n * Article Component\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {Match} match - Contains information about a react-router-dom Route\n */\nconst Read = ({ history, match }: IProps) => {\n  const { id, newFetch } = match.params;\n\n  const { loading, error, data, refetch } = useQuery(READ, {\n    variables: { id },\n  });\n\n  if (loading) return <Loading />;\n  if (error || !data.getModule)\n    return (\n      <EmptyState message={error ? error.message : \"Could not load Module\"} />\n    );\n\n  if (newFetch) {\n    refetch();\n    history.push(`/module/${data.getModule.id}`);\n  }\n\n  return (\n    <React.Fragment>\n      <Button component={Link} to=\"/modules\" startIcon={<ArrowBack />}>\n        Back\n      </Button>\n      <div style={{ position: \"relative\" }}>\n        <ModuleItem\n          module={data.getModule}\n          history={history}\n          displayActions={true}\n          disableHeight={false}\n          refetch={refetch}\n        />\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(Read);\n","/*\n * File: Modules.tsx\n * Project: cv-viewer\n * Version 0.1.0\n * File Created: Tuesday, 26th January 2021 1:09:55 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Sunday, 7th February 2021 5:50:20 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { createStyles, Fab, Theme, withStyles } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport React from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport Loading from \"./../../components/global/Loading\";\nimport EmptyState from \"./../../components/global/EmptyState\";\nimport ModuleItem from \"./../../components/module/ModuleItem\";\nimport { Add } from \"@material-ui/icons\";\nimport { LIST } from \"./../../gql/module\";\n\nconst styles = ({ spacing }: Theme) =>\n  createStyles({\n    root: {\n      maxWidth: \"800px\",\n      margin: \"0 auto\",\n      height: \"500px\",\n      display: \"flex\",\n      textAlign: \"center\",\n      alignItems: \"center\",\n      flexDirection: \"column\",\n      justifyContent: \"space-evenly\",\n    },\n    actions: {\n      justifyContent: \"center\",\n    },\n    fab: {\n      position: \"fixed\",\n      bottom: spacing(2),\n      right: spacing(2),\n    },\n  });\n\ntype IProps = {\n  classes: {\n    root: any;\n    actions: string;\n    fab: string;\n  };\n  match: any;\n  history: any;\n};\n\nconst List = ({ classes, match, history }: IProps) => {\n  const { loading, error, data, refetch } = useQuery(LIST);\n\n  let { newFetch } = match.params;\n\n  if (newFetch) {\n    refetch();\n    history.push(`/modules`);\n  }\n\n  if (loading) return <Loading />;\n  if (error) return <EmptyState message={error.message} />;\n\n  return (\n    <React.Fragment>\n      {data.getModules.length < 1 ? (\n        <EmptyState message=\"No Modules Found\" />\n      ) : (\n        data.getModules.map((module: { id: string }) => (\n          <ModuleItem\n            key={module.id}\n            displayActions={false}\n            module={module}\n            link={`/module/${module.id}`}\n          />\n        ))\n      )}\n      <Fab\n        className={classes.fab}\n        component={Link}\n        aria-label=\"Add Module\"\n        color=\"secondary\"\n        to=\"/create/module\"\n      >\n        <Add />\n      </Fab>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(List);\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  Card,\n  TextField,\n  CardHeader,\n  CardContent,\n  createStyles,\n  withStyles,\n  CardActions,\n  CircularProgress,\n  Typography,\n} from \"@material-ui/core\";\n\nimport { ArrowBack, Check } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { gql, useMutation } from \"@apollo/client\";\nimport { CREATE } from \"./../../gql/lesson\";\n\ntype IProps = {\n  history: any;\n  match: any;\n  classes: any;\n};\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }: any) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n\n// interface Lesson {\n//   title: String;\n//   type: String;\n//   level: number;\n// }\n\n// const typeDefs = gql`\n//   extend type Lesson {\n//     title: String!\n//     type: String!\n//     level: Float!\n//   }\n\n//   extend type LessonValidator {\n//     title: String!\n//     level: Float!\n//     type: String!\n//   }\n// `;\n\n// const ADD_LESSON = gql`\n//   mutation AddLesson($input: LessonValidator!) {\n//     addLesson(input: $input) {\n//       __typename\n//       id\n//       title\n//       level\n//       type\n//     }\n//   }\n// `;\n\n/**\n * CreateLesson Component\n *\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst Create = ({ history, classes }: IProps) => {\n  const [title, setTitle] = useState(\"\");\n  const [level, setLevel] = useState(0);\n  const [type, setType] = useState(\"\");\n\n  const [titleError, setTitleError] = useState(\"\");\n\n  const [serverError, setServerError] = useState(\"\");\n\n  const [addLesson, { loading }] = useMutation(CREATE, {\n    update(cache, { data: { addLesson } }) {\n      cache.modify({\n        fields: {\n          lessons(existingLessons = []) {\n            const newLessonRef = cache.writeFragment({\n              data: addLesson,\n              fragment: gql`\n                fragment NewLesson on Lesson {\n                  __typename\n                  id\n                  title\n                  level\n                  type\n                }\n              `,\n            });\n            return [...existingLessons, newLessonRef];\n          },\n        },\n      });\n    },\n  });\n\n  const handleValidation = () => {\n    let isValid = false;\n    if (title.length < 3) {\n      setTitleError(\"Title must be at least 3 characters\");\n    } else {\n      isValid = true;\n      setTitleError(\"\");\n    }\n\n    return isValid;\n  };\n\n  const submit = () => {\n    if (handleValidation()) {\n      setServerError(\"\");\n\n      addLesson({\n        variables: {\n          input: {\n            title,\n            level,\n            type,\n          },\n        },\n      })\n        .then((res: any) => {\n          // history.push(`/lesson/${res.data.addLesson.id}`);\n          history.push(`/lessons/true`);\n        })\n        .catch((e) => {\n          setServerError(e.toString());\n        });\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <React.Fragment>\n      <Button component={Link} to=\"/\" startIcon={<ArrowBack />}>\n        Back\n      </Button>\n      <Card elevation={3} className={classes.wrapper}>\n        <CardHeader title=\"Create Lesson\" />\n\n        <CardContent>\n          <TextField\n            title=\"title\"\n            label=\"Title\"\n            autoFocus={true}\n            margin=\"normal\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            error={titleError !== \"\"}\n            helperText={titleError}\n          />\n\n          <TextField\n            title=\"level\"\n            label=\"Level\"\n            margin=\"normal\"\n            type=\"number\"\n            InputProps={{\n              inputProps: {\n                min: 0,\n                max: 12,\n              },\n            }}\n            value={level}\n            onChange={(e) => setLevel(parseInt(e.target.value))}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            // error={levelError !== \"\"}\n            // helperText={levelError}\n          />\n\n          <TextField\n            title=\"type\"\n            label=\"Lesson Type\"\n            margin=\"normal\"\n            value={type}\n            onChange={(e) => setType(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            // error={typeError !== \"\"}\n            // helperText={typeError}\n          />\n\n          <Typography variant=\"caption\" color=\"error\">\n            {serverError}\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading}\n            endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n          >\n            Save\n          </Button>\n        </CardActions>\n      </Card>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(Create);\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Button,\n  Card,\n  TextField,\n  CardHeader,\n  CardContent,\n  createStyles,\n  withStyles,\n  CardActions,\n  CircularProgress,\n  Typography,\n} from \"@material-ui/core\";\n\nimport { ArrowBack, Check } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport { READ, UPDATE } from \"./../../gql/lesson\";\nimport Loading from \"./../../components/global/Loading\";\nimport EmptyState from \"./../../components/global/EmptyState\";\n\ntype IProps = {\n  history: any;\n  match: any;\n  classes: any;\n};\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }: any) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n\n/**\n * EditLesson Component\n *\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst Update = ({ history, classes, match }: IProps) => {\n  const [title, setTitle] = useState(\"\");\n  const [level, setLevel] = useState(0);\n  const [type, setType] = useState(\"\");\n\n  const [titleError, setTitleError] = useState(\"\");\n\n  const [serverError, setServerError] = useState(\"\");\n\n  const { id } = match.params;\n\n  const { loading, error, data } = useQuery(READ, { variables: { id } });\n  const [updateLesson, { loading: mutationLoading }] = useMutation(UPDATE);\n\n  const handleValidation = () => {\n    let isValid = false;\n    if (title.length < 3) {\n      setTitleError(\"Title must be at least 3 characters\");\n    } else {\n      isValid = true;\n      setTitleError(\"\");\n    }\n\n    return isValid;\n  };\n\n  const submit = () => {\n    if (handleValidation()) {\n      setServerError(\"\");\n\n      updateLesson({\n        variables: {\n          id,\n          input: {\n            title,\n            level,\n            type,\n          },\n        },\n      })\n        .then((res: any) => {\n          history.push(`/lesson/${res.data.updateLesson.id}`);\n        })\n        .catch((e) => {\n          console.log(\"error\", e);\n          setServerError(e.toString());\n        });\n    }\n  };\n\n  useEffect(() => {\n    if (data && data.getLesson) {\n      setTitle(data.getLesson.title);\n      setLevel(data.getLesson.level);\n      setType(data.getLesson.type);\n    }\n  }, [data]);\n\n  /**\n   * Render JSX\n   */\n  if (loading) return <Loading />;\n  if (error) return <EmptyState message={error.message} />;\n  return (\n    <React.Fragment>\n      <Button component={Link} to=\"/\" startIcon={<ArrowBack />}>\n        Back\n      </Button>\n      <Card elevation={3} className={classes.wrapper}>\n        <CardHeader title=\"Edit Lesson\" />\n\n        <CardContent>\n          <TextField\n            title=\"title\"\n            label=\"Title\"\n            autoFocus={true}\n            margin=\"normal\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            error={titleError !== \"\"}\n            helperText={titleError}\n          />\n\n          <TextField\n            title=\"level\"\n            label=\"Level\"\n            margin=\"normal\"\n            type=\"number\"\n            InputProps={{\n              inputProps: {\n                min: 0,\n                max: 12,\n              },\n            }}\n            value={level}\n            onChange={(e) => setLevel(parseInt(e.target.value))}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          />\n\n          <TextField\n            title=\"type\"\n            label=\"Lesson Type\"\n            margin=\"normal\"\n            value={type}\n            onChange={(e) => setType(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          />\n\n          <Typography variant=\"caption\" color=\"error\">\n            {serverError}\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading || mutationLoading}\n            endIcon={\n              loading || mutationLoading ? (\n                <CircularProgress size={18} />\n              ) : (\n                <Check />\n              )\n            }\n          >\n            Save\n          </Button>\n        </CardActions>\n      </Card>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(Update);\n","/**\n * File: Article.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 8th January 2021 5:34:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Friday, 29th January 2021 9:52:05 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport { Button } from \"@material-ui/core\";\nimport { ArrowBack } from \"@material-ui/icons\";\n\nimport { Link, withRouter } from \"react-router-dom\";\n\nimport Loading from \"./../../components/global/Loading\";\nimport EmptyState from \"./../../components/global/EmptyState\";\nimport LessonItem from \"./../../components/lesson/LessonItem\";\nimport { useQuery } from \"@apollo/client\";\nimport { READ } from \"./../../gql/lesson\";\n\n//  import auth from \"./../../helpers/auth-helper\";\n\ntype IProps = {\n  history: any;\n  match: any;\n};\n\n/**\n * Article Component\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {Match} match - Contains information about a react-router-dom Route\n */\nconst Read = ({ history, match }: IProps) => {\n  const { id } = match.params;\n\n  // const { loading, error, data } = useQuery(GET_LESSON, { id: id });\n  const { loading, error, data, refetch } = useQuery(READ, {\n    variables: { id },\n  });\n\n  let { newFetch } = match.params;\n\n  if (newFetch) {\n    refetch();\n    history.push(`/lesson/${id}`);\n  }\n\n  // const [displayActions, setDisplayActions] = React.useState(true);\n\n  if (loading) return <Loading />;\n  if (error || !data.getLesson)\n    return (\n      <EmptyState message={error ? error.message : \"Could not load Lesson\"} />\n    );\n  return (\n    <React.Fragment>\n      <Button\n        component={Link}\n        to={`/module/${data.getLesson.module.id}`}\n        startIcon={<ArrowBack />}\n      >\n        Back\n      </Button>\n      <div style={{ position: \"relative\" }}>\n        <LessonItem\n          lesson={data.getLesson}\n          history={history}\n          displayActions={true}\n          disableHeight={false}\n        />\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(Read);\n","/*\n * File: Lessons.tsx\n * Project: cv-viewer\n * Version 0.1.0\n * File Created: Tuesday, 26th January 2021 1:09:55 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Sunday, 7th February 2021 5:50:20 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { createStyles, Fab, Theme, withStyles } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport React from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport Loading from \"./../../components/global/Loading\";\nimport EmptyState from \"./../../components/global/EmptyState\";\nimport LessonItem from \"./../../components/lesson/LessonItem\";\nimport { Add } from \"@material-ui/icons\";\nimport { LIST } from \"./../../gql/lesson\";\n\nconst styles = ({ spacing }: Theme) =>\n  createStyles({\n    root: {\n      maxWidth: \"800px\",\n      margin: \"0 auto\",\n      height: \"500px\",\n      display: \"flex\",\n      textAlign: \"center\",\n      alignItems: \"center\",\n      flexDirection: \"column\",\n      justifyContent: \"space-evenly\",\n    },\n    actions: {\n      justifyContent: \"center\",\n    },\n    fab: {\n      position: \"fixed\",\n      bottom: spacing(2),\n      right: spacing(2),\n    },\n  });\n\ntype IProps = {\n  classes: {\n    root: any;\n    actions: string;\n    fab: string;\n  };\n  match: any;\n  history: any;\n};\n\nconst List = ({ classes, match, history }: IProps) => {\n  const { loading, error, data, refetch } = useQuery(LIST);\n\n  let { newFetch } = match.params;\n\n  if (newFetch) {\n    refetch();\n    history.push(`/lessons`);\n  }\n\n  if (loading) return <Loading />;\n  if (error) return <EmptyState message={error.message} />;\n\n  return (\n    <React.Fragment>\n      {data.getLessons.length < 1 ? (\n        <EmptyState message=\"No Lessons Found\" />\n      ) : (\n        data.getLessons.map((lesson: { id: any }) => (\n          <LessonItem\n            key={lesson.id}\n            displayActions={false}\n            lesson={lesson}\n            link={`/lesson/${lesson.id}`}\n          />\n        ))\n      )}\n      <Fab\n        className={classes.fab}\n        component={Link}\n        aria-label=\"Add Lesson\"\n        color=\"secondary\"\n        to=\"/create/lesson\"\n      >\n        <Add />\n      </Fab>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(List);\n","import { useState, useCallback } from \"react\";\nimport { PanInfo, AxisBox2D, BoxDelta } from \"framer-motion\";\n\nexport type FixedListProps<T> = {\n  items: T[];\n  swapDistance: number;\n  onPositionUpdate: (from: number, to: number) => void;\n  onPositionChange?: (startIndex: number, endIndex: number) => void;\n};\n\nexport type FixedListItemProps = {\n  handleChange: (i: number, dragOffset: number) => void;\n  handleDragStart: (index: number) => void;\n  handleDragEnd: (endIndex: number) => void;\n};\n\nexport const findIndex = (\n  i: number,\n  offset: number,\n  length: number,\n  swapDistance: number\n) => {\n  let target = i;\n\n  // If moving down\n  if (offset > 0) {\n    if (i === length - 1) return i;\n    if (offset > swapDistance) target = i + 1;\n  }\n  // If moving up\n  else if (offset < 0) {\n    if (i === 0) return i;\n    if (offset < -swapDistance) target = i - 1;\n  }\n\n  return Math.min(Math.max(target, 0), length);\n};\n\nexport function useFixedList<T>({\n  items,\n  swapDistance,\n  onPositionUpdate,\n  onPositionChange,\n}: FixedListProps<T>): FixedListItemProps {\n  const [startIndex, handleDragStart] = useState(-1);\n\n  const handleChange = useCallback(\n    (i: number, dragOffset: number) => {\n      const targetIndex = findIndex(i, dragOffset, items.length, swapDistance);\n      if (targetIndex !== i) {\n        onPositionUpdate(i, targetIndex);\n      }\n    },\n    [items.length, swapDistance, onPositionUpdate]\n  );\n\n  const handleDragEnd = useCallback(\n    (endIndex: number) => {\n      if (onPositionChange && startIndex !== endIndex)\n        onPositionChange(startIndex, endIndex);\n      handleDragStart(-1);\n    },\n    [startIndex, onPositionChange]\n  );\n\n  return {\n    handleChange,\n    handleDragStart,\n    handleDragEnd,\n  };\n}\n\ntype DragState = \"idle\" | \"animating\" | \"dragging\";\n\ntype FixedListItemResult = [\n  DragState,\n  {\n    onDragStart(\n      event: MouseEvent | TouchEvent | PointerEvent,\n      info: PanInfo\n    ): void;\n    onDragEnd(\n      event: MouseEvent | TouchEvent | PointerEvent,\n      info: PanInfo\n    ): void;\n    onAnimationComplete(): void;\n    onViewportBoxUpdate(box: AxisBox2D, delta: BoxDelta): void;\n  }\n];\n\nexport function useFixedListItem(\n  index: number,\n  { handleChange, handleDragStart, handleDragEnd }: FixedListItemProps\n): FixedListItemResult {\n  const [state, setState] = useState<DragState>(\"idle\");\n\n  return [\n    state,\n    {\n      onDragStart: () => {\n        setState(\"dragging\");\n        handleDragStart(index);\n      },\n      onDragEnd: () => {\n        setState(\"animating\");\n        handleDragEnd(index);\n      },\n      onAnimationComplete: () => {\n        if (state === \"animating\") setState(\"idle\");\n      },\n      onViewportBoxUpdate: (_viewportBox, delta) => {\n        if (state === \"dragging\") handleChange(index, delta.y.translate);\n      },\n    },\n  ];\n}\n","export function moveArray<T>(items: T[], startIndex: number, endIndex: number) {\n  const clone = [...items];\n  clone[endIndex] = items[startIndex];\n  clone[startIndex] = items[endIndex];\n  return clone;\n}\n\nexport const calculateSwapDistance = (sibling: number) => sibling;\n\nexport const getDragStateZIndex = (state: string, base = 0) => {\n  switch (state) {\n    case \"dragging\":\n      return base + 3;\n    case \"animating\":\n      return base + 2;\n    default:\n      return base + 1;\n  }\n};\n","import React, { useCallback } from \"react\";\nimport { motion } from \"framer-motion\";\n\nimport { useFixedList, useFixedListItem, FixedListItemProps } from \"./fixed\";\nimport { getDragStateZIndex, moveArray } from \"./utils\";\n\nimport { IItem, IListItem } from \"./../../types/question\";\n\ntype FixedSizeItemProps = {\n  index: number;\n  height: number;\n  item: IListItem;\n  itemProps: FixedListItemProps;\n  listItem: (item: IListItem) => JSX.Element;\n};\n\nfunction FixedSizeItem({\n  index,\n  height,\n  item,\n  itemProps,\n  listItem,\n}: FixedSizeItemProps) {\n  const [dragState, eventHandlers] = useFixedListItem(index, itemProps);\n\n  return (\n    <div\n      style={{\n        padding: 0,\n        height,\n        // If we're dragging, we want to set the zIndex of that item to be on top of the other items.\n        zIndex: getDragStateZIndex(dragState),\n      }}\n    >\n      <motion.div\n        layout\n        initial={false}\n        drag=\"y\"\n        style={{\n          height,\n          borderRadius: 5,\n        }}\n        whileHover={{\n          scale: 1.03,\n          boxShadow: \"0px 3px 3px rgba(0,0,0,0.15)\",\n        }}\n        whileTap={{\n          scale: 1.12,\n          boxShadow: \"0px 5px 5px rgba(0,0,0,0.1)\",\n        }}\n        {...eventHandlers}\n      >\n        {listItem(item)}\n      </motion.div>\n    </div>\n  );\n}\ninterface IProps {\n  items: IItem[];\n  setItems: (items: IItem[]) => void;\n  listItem: (item: IListItem) => JSX.Element;\n}\nexport default function FixedSizeList({ items, setItems, listItem }: IProps) {\n  const onPositionUpdate = useCallback(\n    (startIndex: number, endIndex: number) => {\n      setItems(moveArray(items, startIndex, endIndex));\n    },\n    [items, setItems]\n  );\n\n  const props = useFixedList({\n    items,\n    swapDistance: 60,\n    onPositionUpdate,\n  });\n\n  return (\n    <React.Fragment>\n      {items.map((item, i) => (\n        <FixedSizeItem\n          key={item.id}\n          index={i}\n          height={60}\n          item={{ i, ...item }}\n          listItem={listItem}\n          itemProps={props}\n        ></FixedSizeItem>\n      ))}\n    </React.Fragment>\n  );\n}\n","import { gql } from \"@apollo/client\";\n\n/**\n * Fetch a list of notes\n */\nexport const LIST = gql`\n  query getNotes {\n    getNotes {\n      id\n      title\n      markdown\n      sanitizedHtml\n    }\n  }\n`;\n\n/**\n * Fetch a note by ID\n *\n * @param {id: String}\n */\nexport const READ = gql`\n  query getNote($id: String!) {\n    getNote(id: $id) {\n      id\n      title\n      markdown\n      sanitizedHtml\n    }\n  }\n`;\n\n/**\n * Create a new note\n *\n * @param {input: NoteValidator}\n */\nexport const CREATE = gql`\n  mutation addNote($questionText: String!, $input: NoteValidator!) {\n    addNote(questionText: $questionText, input: $input) {\n      id\n    }\n  }\n`;\n\n/**\n * Update a note by ID\n *\n * @param {id: String!}\n * @param {input: NoteValidator}\n */\nexport const UPDATE = gql`\n  mutation updateNote($id: String!, $input: NoteValidator!) {\n    updateNote(id: $id, input: $input) {\n      id\n    }\n  }\n`;\n\n/**\n * Delete a note by ID\n *\n * @param {id: String!}\n * @returns {boolean}\n */\nexport const DELETE = gql`\n  mutation deleteNote($id: String!) {\n    deleteNote(id: $id)\n  }\n`;\n","import { useMutation } from \"@apollo/client\";\nimport {\n  Button,\n  CircularProgress,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { Check } from \"@material-ui/icons\";\nimport { useState } from \"react\";\nimport { CREATE } from \"./../../gql/note\";\n\ntype IProps = {\n  newNote: (title: string, id: string) => void;\n};\n\nconst CreateNote = ({ newNote }: IProps) => {\n  const [title, setTitle] = useState(\"\");\n  const [titleError, setTitleError] = useState(\"\");\n\n  const [note, setNote] = useState(\"\");\n  const [noteError, setNoteError] = useState(\"\");\n\n  const [loading, setLoading] = useState(false);\n\n  const [createNote] = useMutation(CREATE);\n\n  const [serverError, setServerError] = useState(\"\");\n\n  const handleValidation = () => {\n    if (title.length < 3) {\n      setTitleError(\"Title must be at least 3 characters\");\n      return false;\n    }\n    setTitleError(\"\");\n\n    if (note.length < 5) {\n      setNoteError(\"Note must be at least 5 characters\");\n      return false;\n    }\n    setNoteError(\"\");\n    return true;\n  };\n  const submit = () => {\n    if (handleValidation()) {\n      setLoading(true);\n      setServerError(\"\");\n      createNote({\n        variables: {\n          questionText: \"\",\n          input: {\n            title,\n            markdown: note,\n          },\n        },\n      })\n        .then((res: any) => {\n          newNote(title, res.data.addNote.id);\n        })\n        .catch((err) => {\n          setLoading(false);\n\n          setServerError(err.toString());\n        });\n    }\n  };\n\n  return (\n    <div>\n      <TextField\n        title=\"title\"\n        label=\"Title\"\n        autoFocus={true}\n        margin=\"normal\"\n        value={title}\n        onChange={(e) => setTitle(e.target.value)}\n        // onKeyDown={(e) => e.key === \"Enter\" && submit()}\n        error={titleError !== \"\"}\n        helperText={titleError}\n      />\n      <TextField\n        aria-label=\"Note content\"\n        rows={8}\n        label=\"Add your note content...\"\n        placeholder=\"Add your note content...\"\n        multiline\n        value={note}\n        onChange={(e) => setNote(e.target.value)}\n        // onKeyDown={(e) => e.key === \"Enter\" && submit()}\n        error={noteError !== \"\"}\n        helperText={noteError}\n      />\n\n      <Typography variant=\"caption\" color=\"error\">\n        {serverError}\n      </Typography>\n\n      <Button\n        disabled={loading}\n        endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={submit}\n      >\n        Save\n      </Button>\n    </div>\n  );\n};\n\nexport default CreateNote;\n","import { ArrowBack, Link as LinkIcon } from \"@material-ui/icons\";\nimport {\n  Button,\n  createStyles,\n  Dialog,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  makeStyles,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport { LIST } from \"./../../gql/note\";\nimport { useQuery } from \"@apollo/client\";\nimport EmptyState from \"./../global/EmptyState\";\nimport Loading from \"./../global/Loading\";\nimport CreateNote from \"./CreateNote\";\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    iconButton: {\n      padding: 10,\n    },\n  })\n);\n\ntype IProps = {\n  i: number;\n  hasNote: boolean;\n  onSelect: (i: number, id: string) => void;\n};\n\nconst NoteDialog = ({ i, onSelect, hasNote = false }: IProps) => {\n  const classes = useStyles();\n  const { loading, error, data, refetch } = useQuery(LIST);\n\n  const [createNote, setCreateNote] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [openDialog, setOpenDialog] = useState(false);\n\n  const newNote = (title: string, id: string) => {\n    refetch();\n    setSearchQuery(title);\n    setCreateNote(false);\n    selectItem(id);\n  };\n\n  const selectItem = (id: string) => {\n    onSelect(i, id);\n    setOpenDialog(false);\n  };\n\n  const filteredItems =\n    data && data.getNotes\n      ? data.getNotes.filter((item: any) => {\n          if (searchQuery !== \"\")\n            return item.title.toLowerCase().includes(searchQuery.toLowerCase());\n          return true;\n        })\n      : [];\n\n  return (\n    <React.Fragment>\n      <IconButton\n        onClick={() => setOpenDialog(true)}\n        color={hasNote ? \"primary\" : \"default\"}\n        className={classes.iconButton}\n        aria-label=\"Add a link to text\"\n      >\n        <LinkIcon />\n      </IconButton>\n      <Dialog\n        open={openDialog}\n        onClose={() => setOpenDialog(false)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {\"Attach a note to this text\"}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Attaching a note allows the user to select this piece of text, and\n            view more details about it\n          </DialogContentText>\n          {createNote ? (\n            <React.Fragment>\n              <Button\n                startIcon={<ArrowBack />}\n                onClick={() => setCreateNote(false)}\n              >\n                Back\n              </Button>\n              <CreateNote newNote={newNote} />\n            </React.Fragment>\n          ) : (\n            <React.Fragment>\n              <TextField\n                title=\"Search notes\"\n                label=\"Search existing notes\"\n                autoFocus={true}\n                margin=\"normal\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n              />\n\n              <List>\n                {error ? (\n                  <EmptyState message={error.message} />\n                ) : loading ? (\n                  <Loading />\n                ) : filteredItems.length > 0 ? (\n                  filteredItems.map((item: any) => {\n                    return (\n                      <ListItem\n                        key={item.id}\n                        button\n                        onClick={() => selectItem(item.id)}\n                      >\n                        <ListItemText>{item.title}</ListItemText>\n                      </ListItem>\n                    );\n                  })\n                ) : (\n                  <div>\n                    <Typography>Could not find any notes</Typography>\n                    <Button color=\"primary\" onClick={() => setCreateNote(true)}>\n                      Create one\n                    </Button>\n                  </div>\n                )}\n              </List>\n            </React.Fragment>\n          )}\n        </DialogContent>\n      </Dialog>\n    </React.Fragment>\n  );\n};\n\nexport default NoteDialog;\n","import {\n  createStyles,\n  Divider,\n  FormHelperText,\n  Grow,\n  IconButton,\n  InputBase,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemSecondaryAction,\n  ListItemText,\n  makeStyles,\n  Paper,\n  Theme,\n  Typography,\n} from \"@material-ui/core\";\nimport {\n  Add,\n  Close,\n  Delete,\n  DragIndicator,\n  Edit,\n  Link as LinkIcon,\n} from \"@material-ui/icons\";\nimport React, {\n  createRef,\n  FormEvent,\n  useCallback,\n  useEffect,\n  useState,\n} from \"react\";\nimport { useQuestion } from \"./../CreateQuestion\";\nimport { IItem, IListItem } from \"./../../../../types/question\";\nimport FixedSizeList from \"./../../../motion/FixedSizeList\";\nimport NoteDialog from \"./../../../note\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: \"2px 4px\",\n      margin: theme.spacing(3),\n    },\n    inputContainer: {\n      padding: \"2px 4px\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      margin: \"auto\",\n      alignItems: \"center\",\n      width: \"80%\",\n    },\n    input: {\n      marginLeft: theme.spacing(1),\n      flex: 1,\n    },\n    iconButton: {\n      padding: 10,\n    },\n    divider: {\n      height: 28,\n      margin: 4,\n    },\n    listItem: {\n      cursor: \"move\",\n    },\n  })\n);\n\nconst QuestionText = () => {\n  const classes = useStyles();\n\n  const [question, setQuestion] = useQuestion();\n\n  const [activeText, setActiveText] = useState(\"\");\n  const [activeTextError, setActiveTextError] = useState(\"\");\n\n  const [editIndex, setEditIndex] = useState(-1);\n\n  const [items, setItems] = useState<IItem[]>(() => []);\n\n  const inputRef = createRef<HTMLInputElement>();\n\n  const syncQuestions = useCallback(() => {\n    let newQuestion = question;\n    newQuestion.text = items.map((item, i) => {\n      return { order: i, text: item.text, note: item.note };\n    });\n    return setQuestion(newQuestion);\n  }, [items, question, setQuestion]);\n\n  useEffect(() => {\n    if (question.text.length > 0 && items.length === 0) {\n      const newItems = question.text.map((item, i) => {\n        return { id: i, text: item.text };\n      });\n\n      return setItems(newItems);\n    }\n    syncQuestions();\n  }, [question, items, syncQuestions]);\n\n  const submit = (e: FormEvent) => {\n    e.preventDefault();\n    if (activeText.length < 1)\n      return setActiveTextError(\"Text must be at least one character\");\n\n    if (editIndex !== -1) {\n      const itemI = items.findIndex((item) => item.id === editIndex);\n\n      setItems((old) => {\n        old[itemI].text = activeText;\n        return [...old];\n      });\n      setEditIndex(-1);\n    } else {\n      const newItem = {\n        id: items.length + 1,\n        text: activeText,\n      };\n      setItems((old) => [...old, newItem]);\n    }\n\n    setActiveText(\"\");\n    setActiveTextError(\"\");\n  };\n\n  const editItem = (id: number) => {\n    const itemI = items.findIndex((item) => item.id === id);\n    setEditIndex(id);\n\n    setActiveText(items[itemI].text);\n    if (inputRef && inputRef.current) inputRef.current.focus();\n  };\n\n  const removeItem = (id: number) => {\n    const itemI = items.findIndex((item) => item.id === id);\n    const newItems = items;\n\n    newItems.splice(itemI, 1);\n    setItems([...newItems]);\n    syncQuestions();\n  };\n\n  const addNote = (i: number, id: string) => {\n    const itemI = items.findIndex((item) => item.id === i);\n\n    let newItems = items;\n    newItems[itemI].note = id;\n    setItems([...newItems]);\n    syncQuestions();\n  };\n\n  const Item = ({ id, text, note = \"\" }: IListItem) => {\n    return (\n      <ListItem className={classes.listItem}>\n        <ListItemIcon>\n          <DragIndicator />\n        </ListItemIcon>\n        <Grow in={true}>\n          <ListItemText>{text}</ListItemText>\n        </Grow>\n        <ListItemIcon>\n          <IconButton onClick={() => editItem(id)}>\n            <Edit />\n          </IconButton>\n        </ListItemIcon>\n        <ListItemSecondaryAction>\n          <IconButton aria-label=\"comments\" onClick={() => removeItem(id)}>\n            <Delete />\n          </IconButton>\n        </ListItemSecondaryAction>\n        <NoteDialog i={id} hasNote={note !== \"\"} onSelect={addNote} />\n\n        <ListItemIcon></ListItemIcon>\n      </ListItem>\n    );\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h1\">Add Question Text</Typography>\n\n      <Paper className={classes.inputContainer}>\n        <InputBase\n          className={classes.input}\n          placeholder=\"Add a new text item\"\n          inputProps={{ \"aria-label\": \"Add item\" }}\n          autoFocus={true}\n          inputRef={inputRef}\n          value={activeText}\n          onChange={(e) => setActiveText(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && submit(e)}\n          error={activeTextError !== \"\"}\n        />\n        <Grow in={editIndex !== -1}>\n          <IconButton\n            className={classes.iconButton}\n            aria-label=\"Cancel edit\"\n            onClick={() => {\n              setEditIndex(-1);\n              setActiveText(\"\");\n            }}\n          >\n            <Close />\n          </IconButton>\n        </Grow>\n        <IconButton\n          className={classes.iconButton}\n          aria-label={editIndex !== -1 ? \"Edit\" : \"Create\"}\n          onClick={submit}\n        >\n          {editIndex !== -1 ? <Edit /> : <Add />}\n        </IconButton>\n        <Divider className={classes.divider} orientation=\"vertical\" />\n        <IconButton\n          // color=\"primary\"\n          className={classes.iconButton}\n          aria-label=\"Add a link to text\"\n        >\n          <LinkIcon />\n        </IconButton>\n      </Paper>\n      <FormHelperText error>{activeTextError}</FormHelperText>\n      <List>\n        <FixedSizeList items={items} setItems={setItems} listItem={Item} />\n      </List>\n    </div>\n  );\n};\n\nexport default QuestionText;\n","import {\n  Button,\n  createStyles,\n  FormHelperText,\n  makeStyles,\n  Fade,\n  Theme,\n  Typography,\n} from \"@material-ui/core\";\nimport { Clear, PhotoCamera } from \"@material-ui/icons\";\nimport React, { useEffect, useState } from \"react\";\nimport { useQuestion } from \"./../CreateQuestion\";\nimport PreviewDocument from \"./../../../../helpers/PreviewImage\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: \"2px 4px\",\n      margin: theme.spacing(3),\n    },\n    label: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      margin: `${theme.spacing(4)}px auto`,\n    },\n    input: {\n      display: \"none\",\n    },\n    uploadHelpText: {\n      textAlign: \"center\",\n    },\n  })\n);\n\nconst QuestionImage = () => {\n  const classes = useStyles();\n  const [question, setQuestion] = useQuestion();\n  const [uploaded, setUploaded] = useState<boolean>(false);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    if (question.image !== \"\") {\n      return setUploaded(true);\n    }\n    setUploaded(false);\n  }, [question, uploaded]);\n\n  const onFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (!event.target.files) {\n      return setError(\"Please upload an image\");\n    }\n    const file = event.target.files[0];\n\n    if (file.size > 6145728)\n      return setError(\"Upload cannot be greater than 6 MegaBytes\");\n    setError(\"\");\n\n    try {\n      const img = await getBase64Image(file);\n      if (typeof img === \"string\") {\n        let newQuestion = question;\n        newQuestion.image = img;\n\n        setQuestion(newQuestion);\n        return setUploaded(true);\n      }\n      setError(\"Could not upload image\");\n    } catch (err) {\n      setError((\"Could not upload file: \" + err) as string);\n    }\n  };\n\n  const getBase64Image = (file: File) => {\n    return new Promise<string | null>(async (resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => resolve(reader.result as string);\n      reader.onerror = (error) => reject(error);\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const clearUpload = () => {\n    let newQuestion = question;\n    newQuestion.image = \"\";\n    setUploaded(false);\n    setQuestion(newQuestion);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h1\">Add an Image</Typography>\n      {uploaded ? (\n        <React.Fragment>\n          <PreviewDocument photo={question.image} />\n          <br />\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={() => clearUpload()}\n            endIcon={<Clear />}\n            className={classes.label}\n          >\n            Clear\n          </Button>\n        </React.Fragment>\n      ) : (\n        <React.Fragment>\n          <input\n            accept=\".jpg, .png, .jpeg\"\n            className={classes.input}\n            id=\"photo-upload\"\n            type=\"file\"\n            name={\"photo-upload\"}\n            onChange={(e) => onFileUpload(e)}\n          />\n          <Fade in={true}>\n            <label htmlFor=\"photo-upload\" className={classes.label}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                component=\"span\"\n                endIcon={<PhotoCamera />}\n              >\n                Upload\n              </Button>\n              <FormHelperText\n                error={error !== \"\"}\n                className={classes.uploadHelpText}\n              >\n                {error ? error : \"Maximum Size: 6 MB\"}\n              </FormHelperText>\n            </label>\n          </Fade>\n        </React.Fragment>\n      )}\n    </div>\n  );\n};\nexport default QuestionImage;\n","import {\n  createStyles,\n  makeStyles,\n  Theme,\n  Typography,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n} from \"@material-ui/core\";\n\nimport React from \"react\";\nimport { useQuestion } from \"./../CreateQuestion\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: \"2px 4px\",\n      margin: theme.spacing(3),\n    },\n  })\n);\n\nconst QuestionType = () => {\n  const classes = useStyles();\n  const [question, setQuestion] = useQuestion();\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    let newQuestion = question;\n    newQuestion.type = capitalize(\n      (event.target as HTMLInputElement).value.replace(\"_\", \" \").toLowerCase()\n    );\n\n    setQuestion({ ...newQuestion });\n  };\n\n  const capitalize = (str: string) => {\n    return str\n      .split(\" \")\n      .map((item) => item.charAt(0).toUpperCase() + item.slice(1))\n      .join(\" \");\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h1\">Select Question Type</Typography>\n\n      <FormControl component=\"fieldset\">\n        <FormLabel component=\"legend\">Question Type</FormLabel>\n        <RadioGroup\n          aria-label=\"question-type\"\n          name=\"question-type\"\n          defaultValue={question.type}\n          value={capitalize(question.type.replace(\"_\", \" \").toLowerCase())}\n          onChange={handleChange}\n        >\n          {question.questionTypeOptions.map((item) => (\n            <FormControlLabel\n              key={item}\n              value={capitalize(item.replace(\"_\", \" \").toLowerCase())}\n              // defaultValue={capitalize(item.replace(\"_\", \" \").toLowerCase())}\n              control={<Radio />}\n              // style={{ textTransform: \"capitalize\" }}\n              label={item}\n            />\n          ))}\n        </RadioGroup>\n      </FormControl>\n    </div>\n  );\n};\nexport default QuestionType;\n","import {\n  createStyles,\n  makeStyles,\n  Theme,\n  Typography,\n  TextField,\n  Checkbox,\n} from \"@material-ui/core\";\nimport {\n  CheckBoxOutlineBlank,\n  CheckBox as CheckBoxIcon,\n} from \"@material-ui/icons\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport React from \"react\";\nimport { useQuestion } from \"./../CreateQuestion\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: \"2px 4px\",\n      margin: theme.spacing(3),\n    },\n  })\n);\n\nconst QuestionAnswer = () => {\n  const classes = useStyles();\n  const [question, setQuestion] = useQuestion();\n\n  const handleMultiChoiceChange = (value: string[]) => {\n    let newQuestion = question;\n    newQuestion.answerArr = value;\n\n    setQuestion(newQuestion);\n  };\n\n  const handleTextChange = (value: string) => {\n    let newQuestion = question;\n    newQuestion.answer = value;\n\n    setQuestion(newQuestion);\n  };\n\n  const icon = <CheckBoxOutlineBlank fontSize=\"small\" />;\n  const checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h1\">Select Question Answer</Typography>\n\n      {question.type === \"MULTIPLE_CHOICE\" ? (\n        <Autocomplete\n          id=\"select-question-multi-choice-answer\"\n          multiple\n          options={question.options}\n          getOptionLabel={(option) => option}\n          style={{ width: 300 }}\n          defaultValue={question.answerArr}\n          disableCloseOnSelect\n          onChange={(event, value) => handleMultiChoiceChange(value || \"\")}\n          renderOption={(option, { selected }) => (\n            <React.Fragment>\n              <Checkbox\n                icon={icon}\n                checkedIcon={checkedIcon}\n                style={{ marginRight: 8 }}\n                checked={selected}\n              />\n              {option}\n            </React.Fragment>\n          )}\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              label=\"Select Question Answer\"\n              variant=\"outlined\"\n            />\n          )}\n        />\n      ) : (\n        <Autocomplete\n          id=\"select-question-text-answer\"\n          defaultValue={question.answer}\n          options={question.options}\n          getOptionLabel={(option) => option}\n          style={{ width: 300 }}\n          onChange={(event, value) => handleTextChange(value || \"\")}\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              label=\"Select Question Answer\"\n              variant=\"outlined\"\n            />\n          )}\n        />\n      )}\n    </div>\n  );\n};\nexport default QuestionAnswer;\n","import {\n  createStyles,\n  makeStyles,\n  Theme,\n  Typography,\n  TextField,\n  Slider,\n} from \"@material-ui/core\";\nimport { useQuestion } from \"./../CreateQuestion\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: \"2px 4px\",\n      margin: theme.spacing(3),\n    },\n  })\n);\n\nconst QuestionDetails = () => {\n  const classes = useStyles();\n  const [question, setQuestion] = useQuestion();\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h1\">Enter Question Details</Typography>\n\n      <TextField\n        value={question.answerHint}\n        onChange={(e) =>\n          setQuestion({ ...question, answerHint: e.target.value as string })\n        }\n        helperText={\"A hint to the user after they answer a question incorrect\"}\n      />\n\n      <Typography id=\"points-slider\" gutterBottom>\n        Points\n      </Typography>\n      <Slider\n        defaultValue={25}\n        onChange={(e, value) =>\n          setQuestion({ ...question, points: value as number })\n        }\n        aria-labelledby=\"points-slider\"\n        valueLabelDisplay=\"auto\"\n        step={10}\n        marks\n        min={10}\n        max={100}\n      />\n    </div>\n  );\n};\nexport default QuestionDetails;\n","import {\n  createStyles,\n  FormHelperText,\n  Grow,\n  IconButton,\n  InputBase,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemSecondaryAction,\n  ListItemText,\n  makeStyles,\n  Paper,\n  Theme,\n  Typography,\n} from \"@material-ui/core\";\nimport { Add, Close, Delete, DragIndicator, Edit } from \"@material-ui/icons\";\nimport React, {\n  createRef,\n  FormEvent,\n  useCallback,\n  useEffect,\n  useState,\n} from \"react\";\nimport { useQuestion } from \"./../CreateQuestion\";\nimport { IItem, IListItem } from \"./../../../../types/question\";\nimport FixedSizeList from \"./../../../motion/FixedSizeList\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: \"2px 4px\",\n      margin: theme.spacing(3),\n    },\n    inputContainer: {\n      padding: \"2px 4px\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      margin: \"auto\",\n      alignItems: \"center\",\n      width: \"80%\",\n    },\n    input: {\n      marginLeft: theme.spacing(1),\n      flex: 1,\n    },\n    iconButton: {\n      padding: 10,\n    },\n    divider: {\n      height: 28,\n      margin: 4,\n    },\n    listItem: {\n      cursor: \"move\",\n    },\n  })\n);\n\nconst QuestionOptions = () => {\n  const classes = useStyles();\n\n  const [question, setQuestion] = useQuestion();\n\n  const [activeText, setActiveText] = useState(\"\");\n  const [activeTextError, setActiveTextError] = useState(\"\");\n\n  const [editIndex, setEditIndex] = useState(-1);\n\n  const [items, setItems] = useState<IItem[]>(() => []);\n\n  const inputRef = createRef<HTMLInputElement>();\n\n  const syncQuestions = useCallback(() => {\n    let newQuestion = question;\n    newQuestion.options = items.map((item) => {\n      return item.text;\n    });\n    setQuestion(newQuestion);\n  }, [items, question, setQuestion]);\n\n  useEffect(() => {\n    if (question.options.length > 0 && items.length === 0) {\n      const newItems = question.options.map((item, i) => {\n        return { id: i, text: item };\n      });\n\n      return setItems(newItems);\n    }\n    if (items.length > 0 && items.length !== question.options.length) {\n      syncQuestions();\n    }\n  }, [question, items, syncQuestions]);\n\n  const submit = (e: FormEvent) => {\n    e.preventDefault();\n    if (activeText.length < 1)\n      return setActiveTextError(\"Text must be at least one character\");\n\n    if (editIndex !== -1) {\n      const itemI = items.findIndex((item) => item.id === editIndex);\n\n      setItems((old) => {\n        old[itemI].text = activeText;\n        return [...old];\n      });\n      setEditIndex(-1);\n    } else {\n      const newItem = {\n        id: items.length + 1,\n        text: activeText,\n      };\n      setItems((old) => [...old, newItem]);\n    }\n\n    setActiveText(\"\");\n    setActiveTextError(\"\");\n  };\n\n  const editItem = (id: number) => {\n    const itemI = items.findIndex((item) => item.id === id);\n    setEditIndex(id);\n\n    setActiveText(items[itemI].text);\n    if (inputRef && inputRef.current) inputRef.current.focus();\n  };\n\n  const removeItem = (id: number) => {\n    const itemI = items.findIndex((item) => item.id === id);\n    const newItems = items;\n    console.log(\"removing one\", newItems[itemI]);\n\n    newItems.splice(itemI, 1);\n    console.log(\"done\", newItems[itemI]);\n\n    setItems([...newItems]);\n  };\n\n  const Item = ({ id, text }: IListItem) => {\n    return (\n      <ListItem className={classes.listItem}>\n        <ListItemIcon>\n          <DragIndicator />\n        </ListItemIcon>\n        <Grow in={true}>\n          <ListItemText>{text}</ListItemText>\n        </Grow>\n        <ListItemIcon>\n          <IconButton onClick={() => editItem(id)}>\n            <Edit />\n          </IconButton>\n        </ListItemIcon>\n        <ListItemSecondaryAction onClick={() => removeItem(id)}>\n          <IconButton edge=\"end\" aria-label=\"comments\">\n            <Delete />\n          </IconButton>\n        </ListItemSecondaryAction>\n      </ListItem>\n    );\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h1\">Add Options</Typography>\n\n      <Paper className={classes.inputContainer}>\n        <InputBase\n          className={classes.input}\n          placeholder=\"Add a new option\"\n          inputProps={{ \"aria-label\": \"Add option\" }}\n          autoFocus={true}\n          inputRef={inputRef}\n          value={activeText}\n          onChange={(e) => setActiveText(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && submit(e)}\n          error={activeTextError !== \"\"}\n        />\n        <Grow in={editIndex !== -1}>\n          <IconButton\n            className={classes.iconButton}\n            aria-label=\"Cancel edit\"\n            onClick={() => {\n              setEditIndex(-1);\n              setActiveText(\"\");\n            }}\n          >\n            <Close />\n          </IconButton>\n        </Grow>\n        <IconButton\n          className={classes.iconButton}\n          aria-label={editIndex !== -1 ? \"Edit\" : \"Create\"}\n          onClick={submit}\n        >\n          {editIndex !== -1 ? <Edit /> : <Add />}\n        </IconButton>\n      </Paper>\n      <FormHelperText error>{activeTextError}</FormHelperText>\n\n      <List>\n        <FixedSizeList items={items} setItems={setItems} listItem={Item} />\n      </List>\n    </div>\n  );\n};\n\nexport default QuestionOptions;\n","import { useMutation } from \"@apollo/client\";\nimport {\n  createStyles,\n  makeStyles,\n  Theme,\n  Typography,\n  Button,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Check } from \"@material-ui/icons\";\nimport React, { useState } from \"react\";\nimport { useQuestion } from \"./../CreateQuestion\";\nimport { CREATE, UPDATE } from \"./../../../../gql/question\";\nimport PreviewQuestion from \"./../../PreviewQuestion\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: \"2px 4px\",\n      margin: theme.spacing(3),\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n    },\n  })\n);\n\ntype IProps = {\n  handleReset: () => void;\n  history: any;\n};\n\nconst QuestionReview = ({ handleReset, history }: IProps) => {\n  const classes = useStyles();\n  const [question] = useQuestion();\n  const [serverError, setServerError] = useState(\"\");\n\n  const [loading, setLoading] = useState(false);\n  const [addQuestion] = useMutation(CREATE);\n  const [updateQuestion] = useMutation(UPDATE);\n\n  const capitalize = (str: string) => {\n    return str\n      .split(\" \")\n      .map((item) => item.charAt(0).toUpperCase() + item.slice(1))\n      .join(\" \");\n  };\n\n  const save = () => {\n    setServerError(\"\");\n    setLoading(true);\n    const newQuestion = {\n      requiresPiano: question.requiresPiano,\n      text: question.text,\n      image: question.image,\n      options: question.options,\n      type: capitalize(question.type.replace(\"_\", \" \").toLocaleLowerCase()),\n      points: question.points,\n      answer: question.answer,\n      answerArr: question.answerArr,\n      answerHint: question.answerHint,\n    };\n\n    if (question.id) {\n      updateQuestion({\n        variables: {\n          id: question.id,\n          input: newQuestion,\n        },\n      })\n        .then((res: any) => {\n          setLoading(false);\n          history.push(`/lesson/${res.data.updateQuestion.lesson.id}/true`);\n        })\n        .catch((e) => {\n          setLoading(false);\n          setServerError(e.toString());\n        });\n    } else {\n      addQuestion({\n        variables: {\n          lessonId: question.lessonId,\n          input: newQuestion,\n        },\n      })\n        .then((res: any) => {\n          setLoading(false);\n          history.push(`/lesson/${res.data.addQuestion.lesson.id}/true`);\n        })\n        .catch((e) => {\n          setLoading(false);\n          setServerError(e.toString());\n        });\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h1\">All Steps Complete</Typography>\n      <br />\n      <Typography>This is your new question will look like:</Typography>\n\n      <PreviewQuestion question={question} />\n\n      <Button onClick={handleReset}>Go back</Button>\n      <Button\n        variant=\"contained\"\n        onClick={save}\n        disabled={loading}\n        color=\"primary\"\n        endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n      >\n        Save\n      </Button>\n\n      <br />\n\n      <Typography variant=\"caption\" color=\"error\">\n        {serverError}\n      </Typography>\n    </div>\n  );\n};\nexport default QuestionReview;\n","import React from \"react\";\n\nimport {\n  Button,\n  Card,\n  createStyles,\n  makeStyles,\n  Step,\n  StepButton,\n  Stepper,\n  Theme,\n  Typography,\n} from \"@material-ui/core\";\n\nimport { Error as ErrorIcon } from \"@material-ui/icons\";\n\nimport QuestionText from \"./steps/QuestionText\";\nimport QuestionImage from \"./steps/QuestionImage\";\nimport QuestionType from \"./steps/QuestionType\";\nimport QuestionAnswer from \"./steps/QuestionAnswer\";\nimport QuestionDetails from \"./steps/QuestionDetails\";\nimport QuestionOptions from \"./steps/QuestionOptions\";\nimport { useQuestion } from \"./CreateQuestion\";\nimport QuestionReview from \"./steps/QuestionReview\";\n\nconst steps = [\n  {\n    title: \"Add Question Text\",\n    name: \"text\",\n    component: <QuestionText />,\n    required: true,\n  },\n  {\n    title: \"Add Image\",\n    name: \"image\",\n    component: <QuestionImage />,\n    required: false,\n  },\n  {\n    title: \"Select Type\",\n    name: \"type\",\n    component: <QuestionType />,\n    required: true,\n  },\n  {\n    title: \"Add Options\",\n    name: \"options\",\n    component: <QuestionOptions />,\n    required: true,\n  },\n  {\n    title: \"Select Answer\",\n    name: [\"answerArr\", \"answer\"],\n    component: <QuestionAnswer />,\n    required: true,\n  },\n  {\n    title: \"Question Details\",\n    name: [\"points\", \"answerHint\"],\n    component: <QuestionDetails />,\n    required: true,\n  },\n];\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: \"100%\",\n      position: \"relative\",\n    },\n    contentWrapper: {\n      margin: `${theme.spacing(2)}px auto`,\n    },\n    buttonContainer: {\n      position: \"fixed\",\n      bottom: 0,\n      left: 0,\n      right: 0,\n      padding: theme.spacing(3),\n    },\n    button: {\n      marginRight: theme.spacing(1),\n    },\n    backButton: {\n      marginRight: theme.spacing(1),\n    },\n    completed: {\n      display: \"inline-block\",\n    },\n    instructions: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n    },\n  })\n);\nfunction getSteps() {\n  return steps.map((step) => step.title);\n}\n\ntype IProps = {\n  history: any;\n};\n\nconst QuestionStepper = ({ history }: IProps) => {\n  const classes = useStyles();\n\n  const [question] = useQuestion();\n  const [activeStep, setActiveStep] = React.useState(0);\n  const [completed, setCompleted] = React.useState(new Set<number>());\n  const [errors, setErrors] = React.useState(new Set<number>());\n  const [skipped, setSkipped] = React.useState(new Set<number>());\n  const questionSteps = steps;\n\n  const totalSteps = () => {\n    return getSteps().length;\n  };\n\n  const getStepContent = (step: number) => {\n    return questionSteps[step].component;\n  };\n\n  const isStepOptional = (step: number) => {\n    return questionSteps[step].required !== true;\n  };\n\n  const handleSkip = () => {\n    if (!isStepOptional(activeStep)) {\n      // You probably want to guard against something like this\n      // it should never occur unless someone's actively trying to break something.\n      throw new Error(\"You can't skip a step that isn't optional.\");\n    }\n\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n    setSkipped((prevSkipped) => {\n      const newSkipped = new Set(prevSkipped.values());\n      newSkipped.add(activeStep);\n      return newSkipped;\n    });\n  };\n\n  const skippedSteps = () => {\n    return skipped.size;\n  };\n\n  const completedSteps = () => {\n    return completed.size;\n  };\n\n  const allStepsCompleted = () => {\n    return completedSteps() === totalSteps() - skippedSteps();\n  };\n\n  const isLastStep = () => {\n    return activeStep === totalSteps() - 1;\n  };\n\n  const handleNext = () => {\n    const newActiveStep =\n      isLastStep() && !allStepsCompleted()\n        ? // It's the last step, but not all steps have been completed\n          // find the first step that has been completed\n          steps.findIndex((step, i) => !completed.has(i))\n        : activeStep + 1;\n\n    setActiveStep(newActiveStep);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const handleStep = (step: number) => () => {\n    setActiveStep(step);\n  };\n\n  const handleComplete = () => {\n    const newCompleted = new Set(completed);\n    const newErrors = new Set(errors);\n    setErrors(new Set());\n    if (steps[activeStep].required) {\n      if (typeof steps[activeStep].name !== \"string\") {\n        //name is array\n\n        const names = steps[activeStep].name as string[];\n\n        if (\n          names.every((name) => {\n            return question[name as string].length < 1;\n          })\n        ) {\n          newErrors.add(activeStep);\n          return setErrors(newErrors);\n        }\n      } else {\n        const name = steps[activeStep].name;\n\n        if (question[name as string].length < 1) {\n          console.log(\"thats gotta be an error\");\n          newErrors.add(activeStep);\n          return setErrors(newErrors);\n        }\n      }\n    }\n\n    newCompleted.add(activeStep);\n    setCompleted(newCompleted);\n\n    /**\n     * Sigh... it would be much nicer to replace the following if conditional with\n     * `if (!this.allStepsComplete())` however state is not set when we do this,\n     * thus we have to resort to not being very DRY.\n     */\n    if (completed.size !== totalSteps() - skippedSteps()) {\n      handleNext();\n    }\n  };\n\n  const handleReset = () => {\n    setActiveStep(0);\n    setCompleted(new Set<number>());\n    setSkipped(new Set<number>());\n  };\n\n  const isStepSkipped = (step: number) => {\n    return skipped.has(step);\n  };\n\n  function isStepComplete(step: number) {\n    return completed.has(step);\n  }\n\n  function isStepError(step: number) {\n    return errors.has(step);\n  }\n\n  return (\n    <div className={classes.root}>\n      <Stepper alternativeLabel nonLinear activeStep={activeStep}>\n        {questionSteps.map((step, index) => {\n          const stepProps: { completed?: boolean } = {};\n          const buttonProps: { optional?: React.ReactNode } = {};\n          if (isStepOptional(index)) {\n            buttonProps.optional = (\n              <Typography variant=\"caption\">Optional</Typography>\n            );\n          }\n          if (isStepSkipped(index)) {\n            stepProps.completed = false;\n          }\n          return (\n            <Step key={step.title} {...stepProps}>\n              {isStepError(index) ? (\n                <StepButton\n                  onClick={handleStep(index)}\n                  completed={isStepComplete(index)}\n                  icon={<ErrorIcon />}\n                  style={{ color: \"red\" }}\n                  {...buttonProps}\n                >\n                  {step.title}\n                </StepButton>\n              ) : (\n                <StepButton\n                  onClick={handleStep(index)}\n                  completed={isStepComplete(index)}\n                  {...buttonProps}\n                >\n                  {step.title}\n                </StepButton>\n              )}\n            </Step>\n          );\n        })}\n      </Stepper>\n      <div>\n        {allStepsCompleted() ? (\n          <QuestionReview history={history} handleReset={handleReset} />\n        ) : (\n          <React.Fragment>\n            <div className={classes.contentWrapper}>\n              {getStepContent(activeStep)}\n            </div>\n            <Card className={classes.buttonContainer}>\n              <Button\n                disabled={activeStep === 0}\n                onClick={handleBack}\n                className={classes.button}\n              >\n                Back\n              </Button>\n\n              {isStepOptional(activeStep) && !completed.has(activeStep) && (\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleSkip}\n                  className={classes.button}\n                >\n                  Skip\n                </Button>\n              )}\n              {activeStep !== steps.length &&\n                (completed.has(activeStep) ? (\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={handleNext}\n                    className={classes.button}\n                  >\n                    Next\n                  </Button>\n                ) : (\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={handleComplete}\n                  >\n                    {completedSteps() === totalSteps() - 1 ? \"Finish\" : \"Next\"}\n                  </Button>\n                ))}\n            </Card>\n          </React.Fragment>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default QuestionStepper;\n","import { useQuery } from \"@apollo/client\";\nimport React, { createContext, useContext, useEffect } from \"react\";\nimport { LIST_QUESTION_TYPE } from \"./../../../gql/question\";\n\nimport { QuestionValidator } from \"./../../../types/question\";\nimport QuestionStepper from \"./QuestionStepper\";\n\nconst initialQuestion = {\n  lessonId: \"\",\n  requiresPiano: false,\n  text: [],\n  image: \"\",\n  options: [],\n  type: \"\",\n  points: 0,\n  answer: \"\",\n  answerArr: [],\n  answerHint: \"\",\n  questionTypeOptions: [],\n};\nexport const QuestionContext = createContext<\n  [QuestionValidator, (setQuestion: QuestionValidator) => void]\n>([initialQuestion, (_) => null]);\n\ntype IProps = {\n  match: any;\n  history: any;\n  update?: QuestionValidator | null;\n};\n\nconst CreateQuestion = ({ history, match, update = null }: IProps) => {\n  const [question, setQuestion] = React.useState(initialQuestion);\n  const { loading, error, data } = useQuery(LIST_QUESTION_TYPE);\n\n  useEffect(() => {\n    if (!loading && !error && data && question.questionTypeOptions.length < 1) {\n      let newQuestion: any = {\n        ...question,\n        questionTypeOptions: data.getQuestionTypes,\n        lessonId: update ? update.lesson.id : match.params.id,\n      };\n      if (update) {\n        newQuestion = {\n          ...newQuestion,\n          id: update.id,\n          requiresPiano: update.requiresPiano || false,\n          text: update.text,\n          image: update.image,\n          options: update.options,\n          type: update.type,\n          points: update.points,\n          answer: update.answer,\n          answerArr: update.answerArr,\n          answerHint: update.answerHint,\n        };\n      }\n\n      setQuestion(newQuestion);\n    }\n  }, [question, data, error, loading, match.params.id, update]);\n\n  return (\n    <QuestionContext.Provider value={[question, setQuestion as any]}>\n      <QuestionStepper history={history} />\n    </QuestionContext.Provider>\n  );\n};\n\nexport const useQuestion = () => useContext(QuestionContext);\nexport default CreateQuestion;\n","import React from \"react\";\nimport { Button, createStyles, withStyles } from \"@material-ui/core\";\n\nimport { ArrowBack } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\nimport CreateQuestion from \"./../../components/question/createQuestion/CreateQuestion\";\n\ntype IProps = {\n  history: any;\n  match: any;\n  classes: any;\n};\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }: any) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n/**\n * CreateQuestion Component\n *\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst Create = ({ history, classes, match }: IProps) => {\n  /**\n   * Render JSX\n   */\n  return (\n    <React.Fragment>\n      <Button\n        component={Link}\n        to={`/lesson/${match.params.lessonId}`}\n        startIcon={<ArrowBack />}\n      >\n        Back\n      </Button>\n\n      <CreateQuestion history={history} match={match} />\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(Create);\n","import React from \"react\";\nimport { Button, createStyles, withStyles } from \"@material-ui/core\";\n\nimport { ArrowBack } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\nimport CreateQuestion from \"./../../components/question/createQuestion/CreateQuestion\";\nimport EmptyState from \"./../../components/global/EmptyState\";\nimport Loading from \"./../../components/global/Loading\";\nimport { useQuery } from \"@apollo/client\";\nimport { READ } from \"./../../gql/question\";\n\ntype IProps = {\n  history: any;\n  match: any;\n  classes: any;\n};\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }: any) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n/**\n * UpdateQuestion Component\n *\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst Update = ({ history, classes, match }: IProps) => {\n  const { id } = match.params;\n  const { loading, error, data } = useQuery(READ, { variables: { id } });\n\n  /**\n   * Render JSX\n   */\n  if (loading) return <Loading />;\n  if (error || !data.getQuestion)\n    return (\n      <EmptyState message={error ? error.message : \"Could not load Question\"} />\n    );\n  return (\n    <React.Fragment>\n      <Button\n        component={Link}\n        to={`/question/${match.params.id}`}\n        startIcon={<ArrowBack />}\n      >\n        Back\n      </Button>\n\n      <CreateQuestion\n        history={history}\n        match={match}\n        update={data.getQuestion}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(Update);\n","/**\n * File: Article.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 8th January 2021 5:34:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Friday, 29th January 2021 9:52:05 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport { Button } from \"@material-ui/core\";\nimport { ArrowBack } from \"@material-ui/icons\";\n\nimport { Link, withRouter } from \"react-router-dom\";\n\n//  import { show } from \"./../../api/api-article\";\n\nimport Loading from \"./../../components/global/Loading\";\nimport EmptyState from \"./../../components/global/EmptyState\";\nimport QuestionItem from \"./../../components/question/QuestionItem\";\nimport { useQuery } from \"@apollo/client\";\nimport { READ } from \"./../../gql/question\";\n\n//  import auth from \"./../../helpers/auth-helper\";\n\ntype IProps = {\n  history: any;\n  match: any;\n};\n\n/**\n * Article Component\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {Match} match - Contains information about a react-router-dom Route\n */\nconst Read = ({ history, match }: IProps) => {\n  const { id } = match.params;\n\n  // const { loading, error, data } = useQuery(GET_QUESTION, { id: id });\n  const { loading, error, data } = useQuery(READ, { variables: { id } });\n\n  // const [displayActions, setDisplayActions] = React.useState(true);\n\n  if (loading) return <Loading />;\n  if (error || !data.getQuestion)\n    return (\n      <EmptyState message={error ? error.message : \"Could not load Question\"} />\n    );\n  return (\n    <React.Fragment>\n      <Button\n        component={Link}\n        to={`/lesson/${data.getQuestion.lesson.id}`}\n        startIcon={<ArrowBack />}\n      >\n        Back\n      </Button>\n      <div style={{ position: \"relative\" }}>\n        <QuestionItem\n          question={data.getQuestion}\n          history={history}\n          displayActions={true}\n          disableHeight={false}\n        />\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(Read);\n","/*\n * File: Questions.tsx\n * Project: cv-viewer\n * Version 0.1.0\n * File Created: Tuesday, 26th January 2021 1:09:55 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Sunday, 7th February 2021 5:50:20 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { createStyles, Fab, Theme, withStyles } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport React from \"react\";\nimport { useQuery, gql } from \"@apollo/client\";\nimport Loading from \"./../../components/global/Loading\";\nimport EmptyState from \"./../../components/global/EmptyState\";\nimport QuestionItem from \"./../../components/question/QuestionItem\";\nimport { Add } from \"@material-ui/icons\";\n\nconst styles = ({ spacing }: Theme) =>\n  createStyles({\n    root: {\n      maxWidth: \"800px\",\n      margin: \"0 auto\",\n      height: \"500px\",\n      display: \"flex\",\n      textAlign: \"center\",\n      alignItems: \"center\",\n      flexDirection: \"column\",\n      justifyContent: \"space-evenly\",\n    },\n    actions: {\n      justifyContent: \"center\",\n    },\n    fab: {\n      position: \"fixed\",\n      bottom: spacing(2),\n      right: spacing(2),\n    },\n  });\n\ntype IProps = {\n  classes: {\n    root: any;\n    actions: string;\n    fab: string;\n  };\n  match: any;\n  history: any;\n};\n\nconst GET_QUESTIONS = gql`\n  query getQuestions {\n    getQuestions {\n      id\n      title\n      level\n      createdAt\n      updatedAt\n      questions {\n        id\n        createdAt\n        updatedAt\n      }\n    }\n  }\n`;\n\nconst List = ({ classes, match, history }: IProps) => {\n  const { loading, error, data, refetch } = useQuery(GET_QUESTIONS);\n\n  let { newFetch } = match.params;\n\n  if (newFetch) {\n    refetch();\n    history.push(`/questions`);\n\n    // newFetch = false;\n  }\n\n  if (loading) return <Loading />;\n  if (error) return <EmptyState message={error.message} />;\n\n  return (\n    <React.Fragment>\n      {data.getQuestions.length < 1 ? (\n        <EmptyState message=\"No Questions Found\" />\n      ) : (\n        data.getQuestions.map((question: { id: any }) => (\n          <QuestionItem\n            key={question.id}\n            displayActions={false}\n            question={question}\n            link={`/question/${question.id}`}\n          />\n        ))\n      )}\n      <Fab\n        className={classes.fab}\n        component={Link}\n        aria-label=\"Add Question\"\n        color=\"secondary\"\n        to=\"/create/question\"\n      >\n        <Add />\n      </Fab>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(List);\n","import { gql } from \"@apollo/client\";\n\n/**\n * Fetch a list of questions\n */\nexport const LOGIN = gql`\n  mutation login($email: String!, $password: String!) {\n    login(input: { email: $email, password: $password }) {\n      token\n      expiration\n      user {\n        email\n        id\n      }\n    }\n  }\n`;\n","import {\n  Create as CreateModule,\n  Read as ReadModule,\n  Update as UpdateModule,\n  List as ListModule,\n} from \"./../pages/module\";\n\nimport {\n  Create as CreateLesson,\n  Read as ReadLesson,\n  Update as UpdateLesson,\n  List as ListLesson,\n} from \"./../pages/lesson\";\n\nimport {\n  Create as CreateQuestion,\n  Read as ReadQuestion,\n  Update as UpdateQuestion,\n  List as ListQuestion,\n} from \"./../pages/question\";\n\nimport Login from \"./../pages/auth/Login\";\n\nexport type IRouteType = {\n  name: string;\n  link: string;\n  component: any;\n  authed: boolean;\n};\n\nconst routes: IRouteType[] = [\n  /**\n   * Auth\n   */\n  {\n    name: \"Login\",\n    link: \"/login\",\n    component: Login,\n    authed: false,\n  },\n\n  /**\n   * Modules\n   */\n  {\n    name: \"Create Module\",\n    link: \"/create/module\",\n    component: CreateModule,\n    authed: true,\n  },\n  {\n    name: \"Module\",\n    link: \"/module/:id/:newFetch?\",\n    component: ReadModule,\n    authed: true,\n  },\n\n  {\n    name: \"Update Module\",\n    link: \"/update/module/:id\",\n    component: UpdateModule,\n    authed: true,\n  },\n  {\n    name: \"Modules\",\n    link: \"/modules/:newFetch?\",\n    component: ListModule,\n    authed: true,\n  },\n  /**\n   * Lessons\n   */\n  {\n    name: \"Create Lesson\",\n    link: \"/create/lesson\",\n    component: CreateLesson,\n    authed: true,\n  },\n  {\n    name: \"Lesson\",\n    link: \"/lesson/:id/:newFetch?\",\n    component: ReadLesson,\n    authed: true,\n  },\n\n  {\n    name: \"Update Lesson\",\n    link: \"/update/lesson/:id\",\n    component: UpdateLesson,\n    authed: true,\n  },\n  {\n    name: \"Lessons\",\n    link: \"/lessons/:newFetch?\",\n    component: ListLesson,\n    authed: true,\n  },\n  /**\n   * Questions\n   */\n  {\n    name: \"Create Question\",\n    link: \"/create/question/:id\",\n    component: CreateQuestion,\n    authed: true,\n  },\n  {\n    name: \"Question\",\n    link: \"/question/:id\",\n    component: ReadQuestion,\n    authed: true,\n  },\n\n  {\n    name: \"Update Question\",\n    link: \"/update/question/:lessonId/:id\",\n    component: UpdateQuestion,\n    authed: true,\n  },\n  {\n    name: \"Questions\",\n    link: \"/questions/:newFetch?\",\n    component: ListQuestion,\n    authed: true,\n  },\n];\n\nexport default routes;\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  Card,\n  TextField,\n  CardHeader,\n  CardContent,\n  createStyles,\n  withStyles,\n  CardActions,\n  CircularProgress,\n  Typography,\n} from \"@material-ui/core\";\n\nimport { ArrowBack, Check } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { useMutation } from \"@apollo/client\";\nimport { LOGIN } from \"./../../gql/auth\";\nimport auth from \"./../../helpers/auth-helper\";\n\ntype IProps = {\n  history: any;\n  match: any;\n  classes: any;\n};\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }: any) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n\n/**\n * LoginModule Component\n *\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst Login = ({ history, classes }: IProps) => {\n  const [email, setEmail] = useState(\"test@test.ie\");\n  const [password, setPassword] = useState(\"testtest\");\n\n  const [emailError, setEmailError] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(\"\");\n\n  const [login] = useMutation(LOGIN);\n\n  /**\n   * Handle validation for form inputs\n   */\n  const handleValidation = () => {\n    let passed = true;\n\n    if (email.length < 3) {\n      setEmailError(\"Email must be at least 3 characters\");\n      passed = false;\n    } else if (!email.includes(\"@\") || !email.includes(\".\")) {\n      setEmailError(\"Please enter a valid email\");\n      passed = false;\n    } else setEmailError(\"\");\n\n    if (password.length < 6) {\n      setPasswordError(\"Password must be at least 6 characters\");\n      passed = false;\n    } else setPasswordError(\"\");\n\n    return passed;\n  };\n\n  const submit = () => {\n    if (handleValidation()) {\n      setError(\"\");\n      setLoading(true);\n      login({\n        variables: {\n          email,\n          password,\n        },\n      })\n        .then((res: any) => {\n          setError(\"\");\n          auth.setUserDetails(res.data.login, (success) => {\n            if (success) {\n              return history.push(\"/modules\");\n            }\n            setError(\"The system encountered an error, please try again later\");\n          });\n        })\n        .catch((e: any) => {\n          setLoading(false);\n\n          setError(e.toString());\n        });\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <React.Fragment>\n      <Button component={Link} to=\"/\" startIcon={<ArrowBack />}>\n        Back\n      </Button>\n      <Card elevation={3} className={classes.wrapper}>\n        <CardHeader email=\"Login\" />\n\n        <CardContent>\n          <TextField\n            name=\"email\"\n            label=\"Email\"\n            autoFocus={true}\n            margin=\"normal\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            error={emailError !== \"\"}\n            helperText={emailError}\n          />\n\n          <TextField\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            margin=\"normal\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            error={passwordError !== \"\"}\n            helperText={passwordError}\n          />\n\n          <br />\n\n          <Typography variant=\"caption\" color=\"error\">\n            {error}\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading}\n            endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n          >\n            Save\n          </Button>\n        </CardActions>\n      </Card>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(Login);\n","/*\n * File: MainRouter.tsx\n * Project: cv-viewer\n * Version 0.1.0\n * File Created: Tuesday, 26th January 2021 1:05:02 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Sunday, 7th February 2021 5:37:20 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React, { useEffect } from \"react\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport { Grid } from \"@material-ui/core\";\n\nimport Home from \"./../pages/Home\";\nimport Header from \"./../components/layout/Header\";\nimport EmptyState from \"./../components/global/EmptyState\";\n\nimport routes, { IRouteType } from \"./routes\";\nimport auth from \"./../helpers/auth-helper\";\n\nconst MainRouter = () => {\n  /**\n   * If set to true, displays routes that only authenticated users should see\n   * If not, displays login / register\n   */\n  const [isAuthed, setIsAuthed] = React.useState(false);\n  const history = useHistory();\n  /**\n   * Check if the user is authenticaed\n   */\n  useEffect(() => {\n    const setAuth = (bool: boolean) => setIsAuthed(bool);\n\n    const jwt = auth.isAuthenticated();\n    setAuth(jwt ? true : false);\n\n    /**\n     * Listen for changes in the URL bar,\n     * and check if the user is authenticated\n     *\n     * Can only be done when the component\n     * is exported through withRouter\n     */\n    history.listen(() => {\n      const jwt = auth.isAuthenticated();\n      setAuth(jwt ? true : false);\n    });\n  }, [history]);\n\n  return (\n    <React.Fragment>\n      <Header isAuthed={isAuthed} setIsAuthed={setIsAuthed} history={history} />\n      <Grid\n        container\n        justify=\"center\"\n        style={{ marginTop: \"20px\", marginBottom: \"20px\" }}\n      >\n        <Grid item xs={11}>\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n\n            {routes\n              .filter((item) => item.authed === isAuthed)\n              .map(({ link, component }: IRouteType, i) => (\n                <Route path={link} component={component} key={i} />\n              ))}\n\n            <Route\n              render={() => (\n                <EmptyState message=\"The page you are looking for does not exist\" />\n              )}\n            />\n          </Switch>\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  );\n};\n\nexport default MainRouter;\n","/**\n * File: theme.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:46:00 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Sunday, 7th February 2021 1:49:32 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { createMuiTheme, responsiveFontSizes } from \"@material-ui/core/styles\";\n\nlet theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#2196f3\",\n    },\n    secondary: {\n      main: \"#ffc400\",\n    },\n  },\n  typography: {\n    fontFamily: [\"quicksand\", \"sans-serif\"].join(\",\"),\n\n    h1: {\n      fontWeight: 800,\n      fontSize: \"3.052rem\",\n      margin: \"3rem 0 1.38rem\",\n      color: \"#4e4e4e\",\n    },\n    h2: {\n      fontWeight: 700,\n      fontSize: \"2.441rem\",\n      margin: \"3rem 0 1.38rem\",\n      color: \"#4e4e4e\",\n    },\n    h3: {\n      fontWeight: 700,\n      fontSize: \"1.953rem\",\n      margin: \"3rem 0 1.38rem\",\n      color: \"#4e4e4e\",\n    },\n    h4: {\n      fontWeight: 700,\n      fontSize: \"1.563rem\",\n      margin: \"3rem 0 1.38rem\",\n      color: \"#4e4e4e\",\n    },\n    h5: {\n      fontWeight: 700,\n      fontSize: \"1.25rem\",\n      color: \"#4e4e4e\",\n    },\n  },\n  overrides: {\n    MuiTextField: {\n      root: {\n        width: \"100%\",\n        margin: \"16px auto\",\n      },\n    },\n    MuiListItemText: {\n      root: {\n        display: \"flex\",\n        flexDirection: \"column-reverse\",\n      },\n    },\n  },\n});\n\ntheme = responsiveFontSizes(theme);\n\nexport default theme;\n","/*\n * File: App.tsx\n * Project: cv-viewer\n * Version 0.1.0\n * File Created: Tuesday, 26th January 2021 12:55:39 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Sunday, 7th February 2021 2:10:51 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\n\nimport MainRouter from \"./routing/MainRouter\";\nimport theme from \"./theme\";\n\nconst App = () => {\n  return (\n    <Router>\n      <MuiThemeProvider theme={theme}>\n        <MainRouter />\n      </MuiThemeProvider>\n    </Router>\n  );\n};\n\nexport default App;\n","/*\n * File: index.tsx\n * Project: cv-viewer\n * Version 0.1.0\n * File Created: Tuesday, 26th January 2021 12:55:39 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Sunday, 7th February 2021 1:54:38 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\n\nimport App from \"./App\";\n\nimport { ApolloProvider } from \"@apollo/client\";\nimport { ApolloClient, InMemoryCache } from \"@apollo/client\";\nimport { config } from \"./config/config\";\n\nconst client = new ApolloClient({\n  uri: config.server_url,\n  cache: new InMemoryCache(),\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n\nserviceWorkerRegistration.register();\n"],"sourceRoot":""}